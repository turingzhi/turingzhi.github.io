<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Frequently Used Commands</title>
      <link href="/2024/09/14/linuxcommands/frequentlyusedcommands/"/>
      <url>/2024/09/14/linuxcommands/frequentlyusedcommands/</url>
      
        <content type="html"><![CDATA[<h3 id="some-frequently-used-commands"><a href="#some-frequently-used-commands" class="headerlink" title="some frequently used commands"></a>some frequently used commands</h3><h4 id="cat-amp-less-amp-tail-amp-vim"><a href="#cat-amp-less-amp-tail-amp-vim" class="headerlink" title="cat &amp; less &amp; tail &amp; vim"></a>cat &amp; less &amp; tail &amp; vim</h4><ul><li>less filename.log<ul><li><code>/</code> search_word</li></ul></li><li>tail -f filename.log<ul><li><code>f</code> follow</li></ul></li><li>vim filename.log</li></ul><h4 id="ping-amp-telnet-amp-traceroute-amp-dig"><a href="#ping-amp-telnet-amp-traceroute-amp-dig" class="headerlink" title="ping &amp; telnet &amp; traceroute &amp; dig"></a>ping &amp; telnet &amp; traceroute &amp; dig</h4><ul><li>ping <a href="http://www.xxx.com">http://www.xxx.com</a><ul><li>check the network connection</li></ul></li><li>telnet www.xxx.com port_num<ul><li>check the port connection</li></ul></li></ul><h4 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h4><ul><li>netstat -lntp<ul><li>check the port status</li><li><code>l</code> listening,<code>netstat -l</code> shows the listening sockets</li><li><code>n</code> number</li><li><code>t</code> tcp</li><li><code>p</code> process</li></ul></li><li>netstat -latp<ul><li><code>l</code> listening,<code>netstat -l</code> shows the listening sockets</li><li><code>a</code> all</li><li><code>t</code> tcp</li><li><code>p</code> process</li></ul></li></ul><h4 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h4><ul><li>ps -ef<ul><li><code>ps</code> process status</li><li><code>e</code> select all processes</li><li><code>f</code> full format</li></ul></li></ul><h4 id="top-amp-df-amp-du"><a href="#top-amp-df-amp-du" class="headerlink" title="top &amp; df &amp; du"></a>top &amp; df &amp; du</h4><ul><li>top<ul><li>check the cpu and memory usage</li></ul></li><li>df -h<ul><li>check the disk usage</li><li><code>h</code> human-readable</li></ul></li><li>du -sh<ul><li>check the disk usage</li></ul></li></ul><h4 id="gt-amp-gt-gt-amp-lt-amp"><a href="#gt-amp-gt-gt-amp-lt-amp" class="headerlink" title="> &amp; >> &amp; < &amp; |"></a>&gt; &amp; &gt;&gt; &amp; &lt; &amp; |</h4><ul><li>bash xxx.sh &gt; xxx.log<ul><li><code>&gt;</code> overwrite</li></ul></li><li>bash xx.sh &gt;&gt; xxx.log<ul><li><code>&gt;&gt;</code> append</li><li><code>2&gt;&amp;1</code> redirect the error message to the standard output</li></ul></li><li>bash xxx.sh &lt; xxx.log<ul><li><code>&lt;</code> input</li><li><code>|</code> pipe</li></ul></li></ul><h4 id="echo-amp-sed-amp-awk-amp-systemctl-service"><a href="#echo-amp-sed-amp-awk-amp-systemctl-service" class="headerlink" title="echo &amp; sed &amp; awk &amp; systemctl/service"></a>echo &amp; sed &amp; awk &amp; systemctl/service</h4><ul><li><p>echo “hello world”</p><ul><li>print the string</li><li><code>echo $?</code> print the return value</li><li><code>echo $0</code> print the script name</li><li><code>echo $1</code> print the first parameter</li><li><code>echo $*</code> print all the parameters</li><li><code>echo $@</code> print all the parameters</li><li><code>echo $$</code> print the process id</li><li><code>echo $!</code> print the last process id</li></ul></li><li><p>sed ‘s/old/new/g’ filename</p><ul><li><code>s</code> substitute</li><li><code>g</code> global</li></ul></li><li>awk ‘{print $1}’ filename<ul><li><code>awk</code> pattern scanning and processing language</li><li><code>{print $1}</code> print the first column</li></ul></li><li>systemctl start/stop/restart service_name</li><li>service service_name start/stop/restart</li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux Command </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Missing Semester Lecture 8</title>
      <link href="/2024/09/03/missing-semester/missing-semester-lecture8/"/>
      <url>/2024/09/03/missing-semester/missing-semester-lecture8/</url>
      
        <content type="html"><![CDATA[<h3 id="Lecture-8-Metaprogramming"><a href="#Lecture-8-Metaprogramming" class="headerlink" title="Lecture 8: Metaprogramming"></a>Lecture 8: Metaprogramming</h3><p><a href="https://missing.csail.mit.edu/2020/metaprogramming/">https://missing.csail.mit.edu/2020/metaprogramming/</a></p><h4 id="Build-systems"><a href="#Build-systems" class="headerlink" title="Build systems"></a>Build systems</h4><p>make is one of the most common build systems out there, and you will usually find it installed on pretty much any UNIX-based computer. It has its warts, but works quite well for simple-to-moderate projects. When you run make, it consults a file called Makefile in the current directory. All the targets, their dependencies, and the rules are defined in that file. Let’s take a look at one:</p><pre><code class="lang-bash">paper.pdf: paper.tex plot-data.png    pdflatex paper.texplot-%.png: %.dat plot.py    ./plot.py -i $*.dat -o $@</code></pre><p>Each directive in this file is a rule for how to produce the left-hand side using the right-hand side. Or, phrased differently, the things named on the right-hand side are dependencies, and the left-hand side is the target. The indented block is a sequence of programs to produce the target from those dependencies. In make, the first directive also defines the default goal. If you run <code>make</code> with no arguments, this is the target it will build. Alternatively, you can run something like <code>make plot-data.png</code>, and it will build that target instead.</p><p>The <code>%</code> in a rule is a “pattern”, and will match the same string on the left and on the right. For example, if the target <code>plot-foo.png</code> is requested, make will look for the dependencies <code>foo.dat</code> and <code>plot.py</code>. Now let’s look at what happens if we run make with an empty source directory.</p><pre><code class="lang-bash">$ makemake: *** No rule to make target 'paper.tex', needed by 'paper.pdf'.  Stop.</code></pre><p><code>make</code> is helpfully telling us that in order to build <code>paper.pdf</code>, it needs <code>paper.tex</code>, and it has no rule telling it how to make that file. Let’s try making it!</p><pre><code class="lang-bash">$ touch paper.tex$ makemake: *** No rule to make target 'plot-data.png', needed by 'paper.pdf'.  Stop.</code></pre><p>Hmm, interesting, there is a rule to make <code>plot-data.png</code>, but it is a pattern rule. Since the source files do not exist (<code>data.dat</code>), make simply states that it cannot make that file. Let’s try creating all the files:</p><pre><code class="lang-bash">$ cat paper.tex\documentclass{article}\usepackage{graphicx}\begin{document}\includegraphics[scale=0.65]{plot-data.png}\end{document}$ cat plot.py#!/usr/bin/env pythonimport matplotlibimport matplotlib.pyplot as pltimport numpy as npimport argparseparser = argparse.ArgumentParser()parser.add_argument('-i', type=argparse.FileType('r'))parser.add_argument('-o')args = parser.parse_args()data = np.loadtxt(args.i)plt.plot(data[:, 0], data[:, 1])plt.savefig(args.o)$ cat data.dat1 12 23 34 45 8</code></pre><p>Now what happens if we run make?</p><pre><code class="lang-bash">$ make./plot.py -i data.dat -o plot-data.pngpdflatex paper.tex... lots of output ...</code></pre><p>And look, it made a PDF for us! What if we run make again?</p><pre><code class="lang-bash">$ makemake: 'paper.pdf' is up to date.</code></pre><p>It didn’t do anything! Why not? Well, because it didn’t need to. It checked that all of the previously-built targets were still up to date with respect to their listed dependencies. We can test this by modifying paper.tex and then re-running make:</p><pre><code class="lang-bash">$ vim paper.tex$ makepdflatex paper.tex...</code></pre><p>Notice that make did not re-run <code>plot.py</code> because that was not necessary; none of <code>plot-data.png</code>’s dependencies changed!</p><h4 id="Dependency-management"><a href="#Dependency-management" class="headerlink" title="Dependency management"></a>Dependency management</h4><p>That also isn’t ideal though! What if I issue a security update which does not change the public interface of my library (its “API”), and which any project that depended on the old version should immediately start using? This is where the different groups of numbers in a version come in. The exact meaning of each one varies between projects, but one relatively common standard is semantic versioning. With semantic versioning, every version number is of the form: major.minor.patch. The rules are:</p><ul><li>If a new release does not change the API, increase the patch version.</li><li>If you add to your API in a backwards-compatible way, increase the minor version.</li><li>If you change the API in a non-backwards-compatible way, increase the major version.</li></ul><p>When working with dependency management systems, you may also come across the notion of lock files. A lock file is simply a file that lists the exact version you are currently depending on of each dependency. Usually, you need to explicitly run an update program to upgrade to newer versions of your dependencies.</p><h4 id="Continuous-integration-systems"><a href="#Continuous-integration-systems" class="headerlink" title="Continuous integration systems"></a>Continuous integration systems</h4>]]></content>
      
      
      <categories>
          
          <category> missing semester </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Tutorial for Starters for Coders on Mac</title>
      <link href="/2024/08/16/tutorial-for-starters/"/>
      <url>/2024/08/16/tutorial-for-starters/</url>
      
        <content type="html"><![CDATA[<h1 id="Tutorial-for-Starters"><a href="#Tutorial-for-Starters" class="headerlink" title="Tutorial for Starters"></a>Tutorial for Starters</h1><p>This is a tutorial for starters to learn how to code on mac.</p><h2 id="Install-Homebrew"><a href="#Install-Homebrew" class="headerlink" title="Install Homebrew"></a>Install Homebrew</h2><ul><li>Homebrew is a package manager for macOS. It is used to install software packages that are not included in macOS by default. To install Homebrew, open Terminal and run the following command:<pre><code class="lang-bash">/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"</code></pre></li></ul><h2 id="Install-Git"><a href="#Install-Git" class="headerlink" title="Install Git"></a>Install Git</h2><ul><li>Git is a version control system that allows you to track changes in your code and collaborate with others. To install Git using Homebrew, run the following command:<pre><code class="lang-Bash">brew install git</code></pre></li></ul><h2 id="Create-a-github-account"><a href="#Create-a-github-account" class="headerlink" title="Create a github account"></a>Create a github account</h2><ul><li>Github is a platform for hosting and sharing code. It allows you to collaborate with others, track changes in your code, and showcase your projects. To create a Github account, go to the Github website and sign up for an account.  </li><li>link to github account by ssh key</li></ul><h2 id="Install-Python"><a href="#Install-Python" class="headerlink" title="Install Python"></a>Install Python</h2><ul><li>Python3 is already installed on M1 Mac Air by default.  </li><li>So just ignore this step if mac is M1 or later.  </li><li>Python is a popular programming language that is widely used for web development, data analysis, artificial intelligence, and more. To install Python using Homebrew, run the following command:<pre><code class="lang-bash">brew install python3</code></pre></li></ul><h2 id="Install-Iterm2"><a href="#Install-Iterm2" class="headerlink" title="Install Iterm2"></a>Install Iterm2</h2><ul><li>iTerm2 is a terminal emulator for macOS. It provides more features and customization options than the built-in Terminal app. To install iTerm2 using Homebrew, run the following command:<pre><code class="lang-bash">brew install --cask iterm2</code></pre></li></ul><h2 id="Install-Zsh"><a href="#Install-Zsh" class="headerlink" title="Install Zsh"></a>Install Zsh</h2><ul><li>Probably zsh is already installed on mac by default.  </li><li>So just ignore this step if mac is M1 or later.  </li><li>Zsh is a powerful shell that provides more features and customization options than the default Bash shell. To install Zsh using Homebrew, run the following command:<pre><code class="lang-Bash">brew install zsh</code></pre></li></ul><h2 id="Install-Oh-My-zsh"><a href="#Install-Oh-My-zsh" class="headerlink" title="Install Oh My zsh"></a>Install Oh My zsh</h2><ul><li>Oh My Zsh is a community-driven framework for managing your Zsh configuration. It comes with a variety of themes, plugins, and features that make working with Zsh more productive and enjoyable. To install Oh My Zsh, run the following command:<pre><code class="lang-bash">sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"</code></pre></li></ul><h2 id="Install-p10k"><a href="#Install-p10k" class="headerlink" title="Install p10k"></a>Install p10k</h2><ul><li>Powerlevel10k is a theme for the Zsh shell that provides a customizable prompt with additional information and features. To install Powerlevel10k, run the following command:<pre><code class="lang-bash">brew install romkatv/powerlevel10k/powerlevel10k</code></pre></li></ul><h2 id="Install-tmux"><a href="#Install-tmux" class="headerlink" title="Install tmux"></a>Install tmux</h2><p>tmux is a terminal multiplexer that allows you to run multiple terminal sessions in a single window. To install tmux using Homebrew, run the following command:</p><pre><code class="lang-bash">brew install tmux</code></pre><p>customize the nvim configuration file(Very important)</p><h2 id="Install-Oh-My-Tmux"><a href="#Install-Oh-My-Tmux" class="headerlink" title="Install Oh My Tmux"></a>Install Oh My Tmux</h2><p>Oh My Tmux is a configuration framework for tmux that provides a variety of themes, plugins, and features to enhance your tmux experience. To install Oh My Tmux, run the following command:</p><pre><code class="lang-bash">git clone https://github.com/gpakosz/.tmux.gitln -s -f .tmux/.tmux.confcp .tmux/.tmux.conf.local</code></pre><h2 id="Install-nvim"><a href="#Install-nvim" class="headerlink" title="Install nvim"></a>Install nvim</h2><ul><li>Neovim is a text editor that is designed for developers. It provides more features and customization options than the built-in Vim editor. To install Neovim using Homebrew, run the following command:<pre><code class="lang-Bash">brew install neovim</code></pre></li><li>learn how to use Neovim by following the tutorials and documentation on the Neovim website.<ul><li>vimtutor(quick start how to use vim)<ul><li>type vimtutor in the terminal to start the vim tutorial</li></ul></li><li>vim cheat sheet <ul><li><a href="https://vim.rtorr.com">https://vim.rtorr.com</a></li></ul></li></ul></li><li>customize the nvim configuration file(Very important)</li></ul><h2 id="Install-yabai"><a href="#Install-yabai" class="headerlink" title="Install yabai"></a>Install yabai</h2><ul><li>yabai is a tiling window manager for macOS. It allows you to organize your windows in a more efficient way. To install yabai using Homebrew, run the following command:<pre><code class="lang-bash">brew install koekeishiya/formulae/yabai</code></pre></li></ul><h2 id="Install-skhd"><a href="#Install-skhd" class="headerlink" title="Install skhd"></a>Install skhd</h2><ul><li>skhd is a hotkey daemon for macOS. It allows you to define custom keyboard shortcuts to control your windows and applications. To install skhd using Homebrew, run the following command:<pre><code class="lang-bash">brew install koekeishiya/formulae/skhd</code></pre></li></ul><h2 id="Install-Node-js"><a href="#Install-Node-js" class="headerlink" title="Install Node.js"></a>Install Node.js</h2><ul><li>Node.js is a JavaScript runtime that allows you to run JavaScript code outside of a web browser. To install Node.js using Homebrew, run the following command:<pre><code class="lang-bash">brew install node</code></pre></li></ul><h2 id="Install-nvm"><a href="#Install-nvm" class="headerlink" title="Install nvm"></a>Install nvm</h2><ul><li>nvm is a Node Version Manager that allows you to easily switch between different versions of Node.js. To install nvm, run the following command:<pre><code class="lang-bash">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.38.0/install.sh | bash</code></pre></li></ul><h2 id="Install-joshuto"><a href="#Install-joshuto" class="headerlink" title="Install joshuto"></a>Install joshuto</h2><ul><li>joshuto is a command-line tool that allows you to quickly search for and open files and directories. To install joshuto using Homebrew, run the following command:<br>```Bash</li><li>brew install joshuto<br>```</li></ul><h2 id="Install-karabiner-elements"><a href="#Install-karabiner-elements" class="headerlink" title="Install karabiner-elements"></a>Install karabiner-elements</h2><ul><li>karabiner-elements is a powerful and flexible keyboard remapping tool for macOS. It allows you to customize your keyboard shortcuts and key mappings. To install karabiner-elements using Homebrew, run the following command:<pre><code class="lang-bash">brew install --cask karabiner-elements</code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> tutorial </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tutorial </tag>
            
            <tag> mac </tag>
            
            <tag> starter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Algorithms for Massive Datasets</title>
      <link href="/2024/08/15/algorithms-for-massive-datasets/"/>
      <url>/2024/08/15/algorithms-for-massive-datasets/</url>
      
        <content type="html"><![CDATA[<h2 id="1-Hashing-Integer-Data-Structures-I"><a href="#1-Hashing-Integer-Data-Structures-I" class="headerlink" title="1.Hashing(Integer Data Structures I)"></a>1.Hashing(Integer Data Structures I)</h2><h3 id="Hashing"><a href="#Hashing" class="headerlink" title="Hashing"></a>Hashing</h3><h3 id="Perfect-Hashing"><a href="#Perfect-Hashing" class="headerlink" title="Perfect Hashing"></a>Perfect Hashing</h3><p>FKS-scheme</p><ul><li>lookeup: O(1)<script type="math/tex">\sqrt{N}</script></li><li>Space: O(n)</li><li>feature: <ul><li>2-level</li><li>collision-free(the second level uses <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="2.345ex" height="1.912ex" role="img" focusable="false" viewBox="0 -833.9 1036.6 844.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(633,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>)</li></ul></li></ul><h3 id="String-Hashing"><a href="#String-Hashing" class="headerlink" title="String Hashing"></a>String Hashing</h3><ul><li>Karp-Rabin fingerprint<ul><li>rolling property</li><li>If fingerprints match, verify using brute-force comparison. Return “yes!” if we match.</li></ul></li></ul><h2 id="2-Predecessor-Integer-Data-Structures-II"><a href="#2-Predecessor-Integer-Data-Structures-II" class="headerlink" title="2.Predecessor(Integer Data Structures II)"></a>2.Predecessor(Integer Data Structures II)</h2><p><a href="https://www.youtube.com/watch?v=u-HHY1ylhHY&amp;t=4032s">video from MIT 6.861</a></p><h3 id="Predecessor-Problem"><a href="#Predecessor-Problem" class="headerlink" title="Predecessor Problem"></a>Predecessor Problem</h3><h3 id="van-Emde-Boas"><a href="#van-Emde-Boas" class="headerlink" title="van Emde Boas"></a>van Emde Boas</h3><p>T(u) = T(<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.491ex;" xmlns="http://www.w3.org/2000/svg" width="3.224ex" height="2.398ex" role="img" focusable="false" viewBox="0 -843 1425 1060"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msqrt"><g transform="translate(853,0)"><g data-mml-node="mi"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(0,-17)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z"></path></g><rect width="572" height="60" x="853" y="723"></rect></g></g></g></svg></mjx-container>) + 1  = O(loglogu)<br>O(logw) = O(loglogu)<br>O(u) space</p><ul><li>combine perfect hashing we can reduce space to O(n)<h3 id="x-Fast-and-y-Fast-Tries"><a href="#x-Fast-and-y-Fast-Tries" class="headerlink" title="x-Fast and y-Fast Tries"></a>x-Fast and y-Fast Tries</h3>x-Fast</li><li>don’t store 0s</li><li>For each level store a dictionary of prefixes of keys</li><li>Binary search over levels to find longest matching prefix with x</li><li>Space: O(nlogu)</li></ul><p>y-Fast Tries  </p><ul><li>y-Fast Tries = x-Fast Tries + indirection</li><li>partition S into n/logu groups<ul><li>so space of top part is O(n/logu * logu) = O(n) </li><li>space of down part use Binary search tree is O(n)</li><li>so total space is O(n)</li><li>Time of top part is O(loglogu)</li><li>Time of down part is O(loglogu)</li><li>so total time is O(loglogu)</li></ul></li><li>Space: O(n)</li><li>Time: O(logw) = O(loglogu)  </li></ul><h2 id="3-Range-Reporting-Geometry"><a href="#3-Range-Reporting-Geometry" class="headerlink" title="3.Range Reporting(Geometry)"></a>3.Range Reporting(Geometry)</h2><h3 id="1-D-Range-Reporting"><a href="#1-D-Range-Reporting" class="headerlink" title="1-D  Range Reporting"></a>1-D  Range Reporting</h3><ul><li>sort and binary search</li><li>space: O(n)</li><li>time: O(log+occ)</li><li>preprocess: O(nlogn)<h3 id="2-D-Range-Reporting"><a href="#2-D-Range-Reporting" class="headerlink" title="2-D  Range Reporting"></a>2-D  Range Reporting</h3><h4 id="Range-Trees"><a href="#Range-Trees" class="headerlink" title="Range Trees"></a>Range Trees</h4><ul><li>x uses binary search</li><li>then y just follow x to form the same tree  </li></ul></li></ul><p>2D range tree reporting \<br>using bridges(fractional cascading) \<br><a href="https://ocw.mit.edu/courses/6-851-advanced-data-structures-spring-2012/resources/mit6_851s12_l3/">Range Tree MIT 6.861</a></p><p>range tree explain<br><a href="https://www.youtube.com/watch?v=5a7EYVulN-w&amp;t=491s">video from youtube</a><br>fractional cascading  </p><ul><li>Time O(logn+occ)</li><li>Space O(nlogn)</li></ul><h4 id="Predecessor-in-Nested-Sets"><a href="#Predecessor-in-Nested-Sets" class="headerlink" title="Predecessor in Nested Sets"></a>Predecessor in Nested Sets</h4><h4 id="kD-Trees"><a href="#kD-Trees" class="headerlink" title="kD Trees"></a>kD Trees</h4><ul><li>divide the set into two parts by x</li><li>then divide each subset into two parts by y</li><li>recursively do two procedures above</li><li>Space: O(n)</li><li>Time: O(<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.491ex;" xmlns="http://www.w3.org/2000/svg" width="3.287ex" height="2.398ex" role="img" focusable="false" viewBox="0 -843 1453 1060"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msqrt"><g transform="translate(853,0)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(0,-17)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z"></path></g><rect width="600" height="60" x="853" y="723"></rect></g></g></g></svg></mjx-container>)</li><li>Preprocess: O(nlogn)</li></ul><h2 id="4-LCA-and-RMQ-Integer-Data-Structures-III"><a href="#4-LCA-and-RMQ-Integer-Data-Structures-III" class="headerlink" title="4.LCA and RMQ(Integer Data Structures III)"></a>4.LCA and RMQ(Integer Data Structures III)</h2><h3 id="Range-Minimum-Query"><a href="#Range-Minimum-Query" class="headerlink" title="Range Minimum Query"></a>Range Minimum Query</h3><p><a href="https://www.youtube.com/watch?v=0rCFkuQS968">Lowest Common Ancestor And Level Ancestor</a></p><ul><li>Save the result for all intervals of length a power of 2</li><li>Time: O(1)</li><li>Space: O(nlogn)<h3 id="pm-1-RMQ"><a href="#pm-1-RMQ" class="headerlink" title="$\pm 1$RMQ"></a><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="2.891ex" height="1.507ex" role="img" focusable="false" viewBox="0 -666 1278 666"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="B1" d="M56 320T56 333T70 353H369V502Q369 651 371 655Q376 666 388 666Q402 666 405 654T409 596V500V353H707Q722 345 722 333Q722 320 707 313H409V40H707Q722 32 722 20T707 0H70Q56 7 56 20T70 40H369V313H70Q56 320 56 333Z"></path></g><g data-mml-node="mn" transform="translate(778,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg></mjx-container>RMQ</h3></li><li>2-level solution</li><li>divide the array into blocks of size 1/2 logn</li><li>2-level data structure:<ul><li>Sparse table on blocks<ul><li>space O((n/logn)*log(n/logn)) = O(n)</li><li>time : O(1)</li></ul></li><li>Tabulation inside blocks.<ul><li>Describe block by sequence of +1s and -1s </li><li>length of sequence is 1/2 * logn -1</li><li>so #sequence = <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="10.783ex" height="2.021ex" role="img" focusable="false" viewBox="0 -893.3 4766.2 893.3"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="TeXAtom" transform="translate(533,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mn" transform="translate(389,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(889,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path></g></g><g data-mml-node="mn" transform="translate(1389,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mo" transform="translate(1889,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(2278,0)"><path data-c="2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path></g><g data-mml-node="mi" transform="translate(2778,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(3076,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(3561,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(4038,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(4638,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(5416,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></g></svg></mjx-container> smaller than <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.491ex;" xmlns="http://www.w3.org/2000/svg" width="3.287ex" height="2.398ex" role="img" focusable="false" viewBox="0 -843 1453 1060"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msqrt"><g transform="translate(853,0)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(0,-17)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z"></path></g><rect width="600" height="60" x="853" y="723"></rect></g></g></g></svg></mjx-container></li><li>size of table is O(<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="5.196ex" height="2.482ex" role="img" focusable="false" viewBox="0 -892 2296.6 1097"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(298,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(783,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g></g><g data-mml-node="mn" transform="translate(1293,421.1) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mi" transform="translate(1696.6,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>)</li><li>space is O(<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.491ex;" xmlns="http://www.w3.org/2000/svg" width="3.287ex" height="2.398ex" role="img" focusable="false" viewBox="0 -843 1453 1060"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msqrt"><g transform="translate(853,0)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(0,-17)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z"></path></g><rect width="600" height="60" x="853" y="723"></rect></g></g></g></svg></mjx-container>*<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="5.196ex" height="2.482ex" role="img" focusable="false" viewBox="0 -892 2296.6 1097"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(298,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(783,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g></g><g data-mml-node="mn" transform="translate(1293,421.1) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mi" transform="translate(1696.6,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>) + O(n/logn)(number) =O(n)  </li></ul></li><li>in total space is O(n), time is O(1)<h3 id="Lowest-Common-Ancestor"><a href="#Lowest-Common-Ancestor" class="headerlink" title="Lowest Common Ancestor"></a>Lowest Common Ancestor</h3></li></ul></li><li>E: Euler tour representation. preorder walk, write id of node when met.</li><li>A: depth of node node in E[i].</li><li>R: first occurrence in E of node with id i</li><li>LCA(i, j) = E[<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="7.272ex" height="2.032ex" role="img" focusable="false" viewBox="0 -704 3214.3 898"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g><g data-mml-node="mi" transform="translate(759,0)"><path data-c="1D440" d="M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z"></path></g><g data-mml-node="msub" transform="translate(1810,0)"><g data-mml-node="mi"><path data-c="1D444" d="M399 -80Q399 -47 400 -30T402 -11V-7L387 -11Q341 -22 303 -22Q208 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435Q740 255 592 107Q529 47 461 16L444 8V3Q444 2 449 -24T470 -66T516 -82Q551 -82 583 -60T625 -3Q631 11 638 11Q647 11 649 2Q649 -6 639 -34T611 -100T557 -165T481 -194Q399 -194 399 -87V-80ZM636 468Q636 523 621 564T580 625T530 655T477 665Q429 665 379 640Q277 591 215 464T153 216Q153 110 207 59Q231 38 236 38V46Q236 86 269 120T347 155Q372 155 390 144T417 114T429 82T435 55L448 64Q512 108 557 185T619 334T636 468ZM314 18Q362 18 404 39L403 49Q399 104 366 115Q354 117 347 117Q344 117 341 117T337 118Q317 118 296 98T274 52Q274 18 314 18Z"></path></g><g data-mml-node="mi" transform="translate(824,-152.7) scale(0.707)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g></g></g></g></svg></mjx-container>(R[i], R[j])]</li><li>RMQ -&gt; LCA -&gt; <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="2.891ex" height="1.507ex" role="img" focusable="false" viewBox="0 -666 1278 666"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="B1" d="M56 320T56 333T70 353H369V502Q369 651 371 655Q376 666 388 666Q402 666 405 654T409 596V500V353H707Q722 345 722 333Q722 320 707 313H409V40H707Q722 32 722 20T707 0H70Q56 7 56 20T70 40H369V313H70Q56 320 56 333Z"></path></g><g data-mml-node="mn" transform="translate(778,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg></mjx-container>RMQ  </li><li>RMQ and LCA can be solved in O(n) space and O(1) query time.</li></ul><h2 id="5-Level-Ancestor-Trees"><a href="#5-Level-Ancestor-Trees" class="headerlink" title="5.Level Ancestor(Trees)"></a>5.Level Ancestor(Trees)</h2><h3 id="Level-Ancestor"><a href="#Level-Ancestor" class="headerlink" title="Level Ancestor"></a>Level Ancestor</h3><h3 id="Path-Decompositions"><a href="#Path-Decompositions" class="headerlink" title="Path Decompositions"></a>Path Decompositions</h3><h3 id="Tree-Decompositions"><a href="#Tree-Decompositions" class="headerlink" title="Tree Decompositions"></a>Tree Decompositions</h3><p><a href="https://www.youtube.com/watch?v=0rCFkuQS968">Lowest Common Ancestor And Level Ancestor</a><br><a href="https://ocw.mit.edu/courses/6-851-advanced-data-structures-spring-2012/resources/mit6_851s12_lec15/">LCA and Level Ancestor</a></p><h4 id="Top-down-Decomposition"><a href="#Top-down-Decomposition" class="headerlink" title="Top-down Decomposition"></a>Top-down Decomposition</h4><ul><li>jump pointer (make sure at least jump up k/2 nodes)</li><li>ladder decomposition (so the jumped ancestor is on a ladder can be used to find <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.866ex" height="1.927ex" role="img" focusable="false" viewBox="0 -694 1266.6 851.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g><g data-mml-node="TeXAtom" transform="translate(554,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g><g data-mml-node="mi" transform="translate(361,0)"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g></g></g></g></g></svg></mjx-container> ancestor)</li><li>tree trimming(node with &gt;= 1/4 * logn descendants)</li><li>Space<ul><li>top part is O(n + n/logn * logn) = O(n) (the second logn is from ladder)</li><li>down part uses balanced parentheses representation<ul><li>tree encoding: the tree nodes is &lt; 1/4 logn</li><li>so the tree encoding is 2<em> 1/4 logn = 1/2 </em>logn bits</li><li>node v and ancestor k encoding is 2 * log(1/4logn) &lt; 2 loglogn bits</li><li>so all probabilities are &lt; <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="13.73ex" height="2.021ex" role="img" focusable="false" viewBox="0 -893.3 6068.7 893.3"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="TeXAtom" transform="translate(533,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(500,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path></g></g><g data-mml-node="mn" transform="translate(1000,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(1500,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(1798,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(2283,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(2760,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3360,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(4138,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(4638,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(4936,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(5421,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(5898,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(6196,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="mi" transform="translate(6681,0)"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(7158,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg></mjx-container> = O(n)</li></ul></li><li>if we can find the node in the bottom tree, just use bottom tree. if we need to find ancestor in the top part, just O(1) by ladder and jump pointer.</li></ul></li></ul><h2 id="6-Suffix-Tree-Strings-I"><a href="#6-Suffix-Tree-Strings-I" class="headerlink" title="6.Suffix Tree(Strings I)"></a>6.Suffix Tree(Strings I)</h2><h3 id="Dictionaries"><a href="#Dictionaries" class="headerlink" title="Dictionaries"></a>Dictionaries</h3><h3 id="Tries"><a href="#Tries" class="headerlink" title="Tries"></a>Tries</h3><h3 id="Suffix-trees"><a href="#Suffix-trees" class="headerlink" title="Suffix trees"></a>Suffix trees</h3><p><a href="https://ocw.mit.edu/courses/6-851-advanced-data-structures-spring-2012/resources/mit6_851s12_lec16/">note from MIT 6.861</a>]</p><ul><li>space : O(n)</li><li>time: O(m) for searching for a string of length m</li><li>time: O(m + occ) for prefix search, where occ = #occurrences</li><li>the occ could be large</li></ul><h2 id="7-Suffix-Sorting-Strings-II"><a href="#7-Suffix-Sorting-Strings-II" class="headerlink" title="7.Suffix Sorting(Strings II)"></a>7.Suffix Sorting(Strings II)</h2><h3 id="Radix-Sorting"><a href="#Radix-Sorting" class="headerlink" title="Radix Sorting"></a>Radix Sorting</h3><h3 id="Suffix-Array"><a href="#Suffix-Array" class="headerlink" title="Suffix Array"></a>Suffix Array</h3><h3 id="Suffix-Sorting"><a href="#Suffix-Sorting" class="headerlink" title="Suffix Sorting"></a>Suffix Sorting</h3><p>DC3 Algorithm</p><ul><li>Sort Sample Suffixes<ul><li>Sample all suffixes starting at positions i = 1 mod 3 and i = 2 mod 3  O(n)</li><li>Recursively sort sample suffixes  O(2/3 n)</li></ul></li><li>Sort non-sample suffixes<ul><li>Sort the remaining suffixes (starting at positions i = 0 mod 3)  O(n)</li></ul></li><li>Merge  O(n)</li><li>total time: O(n+2/3n+n+n) = O(n)</li><li>We can suffix sort a string of length n over alphabet Σ of size n in time O(n).</li><li>We can suffix sort a string of length n over alphabet Σ O(sort(n, |Σ|)) time.</li></ul><h2 id="8-Compression-Compression"><a href="#8-Compression-Compression" class="headerlink" title="8.Compression(Compression)"></a>8.Compression(Compression)</h2><h3 id="Lempel-Ziv"><a href="#Lempel-Ziv" class="headerlink" title="Lempel-Ziv"></a>Lempel-Ziv</h3><h4 id="Lempel-Ziv-77"><a href="#Lempel-Ziv-77" class="headerlink" title="Lempel-Ziv 77"></a>Lempel-Ziv 77</h4><ul><li>using suffix tree</li><li>Parse from left-to-right into phrases.</li><li>Select longest phrase seen before + a single character.</li><li>Encode phrases (previous phrase, character) or single phrase</li><li>time: O(n)<h4 id="Lempel-Ziv-78"><a href="#Lempel-Ziv-78" class="headerlink" title="Lempel-Ziv 78"></a>Lempel-Ziv 78</h4></li><li>Parse from left-to-right into phrases.</li><li>Select longest phrase seen before + a single character.</li><li>Encode phrases (previous phrase, character) or single phrase</li><li>time: O(n)<h3 id="Re-Pair"><a href="#Re-Pair" class="headerlink" title="Re-Pair"></a>Re-Pair</h3></li><li>Recursive-pairing compression [Larsson and Moffat 2000].<ul><li>Start with string S.</li><li>Replace a most frequent pair ab by new character Xi. Output rule <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.613ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1155 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g><g data-mml-node="mi" transform="translate(861,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container> ➞ ab.(find the most frequent pair by suffix tree?)</li><li>Repeat until we have a single pair.<h3 id="Grammars"><a href="#Grammars" class="headerlink" title="Grammars"></a>Grammars</h3></li></ul></li><li>Grammar compression. Encode string S as an grammar G that generates S.</li></ul><h2 id="9-Approximation-Algorithm-1"><a href="#9-Approximation-Algorithm-1" class="headerlink" title="9.Approximation Algorithm 1"></a>9.Approximation Algorithm 1</h2><h3 id="Acyclic-Graph-Given-a-directed-graph-G-V-E-pick-a-maximum-cardinality-set-of-edges-from-E-such-that-the-resulting-graph-is-acyclic"><a href="#Acyclic-Graph-Given-a-directed-graph-G-V-E-pick-a-maximum-cardinality-set-of-edges-from-E-such-that-the-resulting-graph-is-acyclic" class="headerlink" title="Acyclic Graph. Given a directed graph G=(V,E), pick a maximum cardinality set of edges from E such that the resulting graph is acyclic."></a>Acyclic Graph. Given a directed graph G=(V,E), pick a maximum cardinality set of edges from E such that the resulting graph is acyclic.</h3><ul><li>1/2-Approximation Algorithm</li><li>select one directed path between two directed paths<h3 id="Min-Max-Matching"><a href="#Min-Max-Matching" class="headerlink" title="Min Max Matching"></a>Min Max Matching</h3></li><li>2-Algorithm Algorithm<br><a href="https://www.youtube.com/watch?v=wWk1EmV52Ks&amp;t=86s">Matching</a><h3 id="LPT-scheduling-longest-processing-time"><a href="#LPT-scheduling-longest-processing-time" class="headerlink" title="LPT(scheduling) longest processing time"></a>LPT(scheduling) longest processing time</h3><a href="https://www.yatming.net/2018/01/03/Machine-Scheduling-Machine-Learning-in-Engineering/">LPT</a></li><li>Assume t1 ≥ …. ≥ tn.</li><li>Assume wlog that smallest job finishes last.</li><li>If tn ≤ T<em>/3 then T ≤ 4/3 T</em>.</li><li>If tn &gt; T*/3 then each machine can process at most 2 jobs in OPT.<h3 id="K-center"><a href="#K-center" class="headerlink" title="K-center"></a>K-center</h3></li><li>assume r<em> is the OPT. We can get 2 </em> r*. It is 2-Approximation Algorithm.</li><li>Because radius of OPT cluster is r<em> and every node in this cluster is no more far away from 2 </em> r<em>. We cannot ensure we always pick the right node in each cluster. But we can ensure we choose a node in OPT cluster so every node in this cluster is no more far away from 2 </em> r*.<br><a href="http://staff.ustc.edu.cn/~huding/data_pdf/聚类.pdf">link</a>]</li></ul><h2 id="10-Approximation-Algorithm-2"><a href="#10-Approximation-Algorithm-2" class="headerlink" title="10.Approximation Algorithm 2"></a>10.Approximation Algorithm 2</h2><h3 id="TSP"><a href="#TSP" class="headerlink" title="TSP"></a>TSP</h3><ul><li>Christofides’ algorithm<ul><li>find MST T(minimum spinning tree by Prime’s algorithm)</li><li>find odd degree O vertices in MST T</li><li>compute minimum perfect matching M on O</li><li>Construct Euler tour 𝞃</li><li>Shortcut such that each vertex only visited once (𝞃’) (in a triangle, a + b &gt; c)</li></ul></li><li>length(𝞃’) ≤ length(𝞃) = cost(T) + cost(M) ≤ OPT + cost(M).</li><li>cost(M) ≤ OPT/2.<ul><li><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="5.71ex" height="1.95ex" role="img" focusable="false" viewBox="0 -704 2523.9 861.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mi" transform="translate(763,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="msub" transform="translate(1514,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(617,-150) scale(0.707)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g></g></g></g></svg></mjx-container> = OPT restricted to O.</li><li><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="5.71ex" height="1.95ex" role="img" focusable="false" viewBox="0 -704 2523.9 861.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mi" transform="translate(763,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="msub" transform="translate(1514,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(617,-150) scale(0.707)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g></g></g></g></svg></mjx-container> ≤ OPT.</li><li>can partition <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="5.71ex" height="1.95ex" role="img" focusable="false" viewBox="0 -704 2523.9 861.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mi" transform="translate(763,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="msub" transform="translate(1514,0)"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(617,-150) scale(0.707)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g></g></g></g></svg></mjx-container> into two perfect matchings <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="2.714ex" height="1.932ex" role="img" focusable="false" viewBox="0 -704 1199.6 854"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mn" transform="translate(796,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></svg></mjx-container> and <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="2.714ex" height="1.932ex" role="img" focusable="false" viewBox="0 -704 1199.6 854"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mn" transform="translate(796,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>.</li><li>cost(M) ≤ min(cost(<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="2.714ex" height="1.932ex" role="img" focusable="false" viewBox="0 -704 1199.6 854"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mn" transform="translate(796,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></svg></mjx-container>), cost(<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="2.714ex" height="1.932ex" role="img" focusable="false" viewBox="0 -704 1199.6 854"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mn" transform="translate(796,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>)) ≤ OPT/2.</li></ul></li><li>length(𝞃’) ≤ length(𝞃) = cost(T) + cost(M) ≤ OPT + OPT/2 = 3/2 OPT.</li><li>Christofides’ algorithm is a 3/2-approximation algorithm for TSP.<br><a href="https://www.youtube.com/watch?v=GiDsjIBOVoA&amp;t=726s">link</a><br><a href="https://xujinzh.github.io/2021/11/19/hungarian-matching-algorithm/index.html">Hungarian Matching Algorithm</a><h3 id="Set-Cover"><a href="#Set-Cover" class="headerlink" title="Set Cover"></a>Set Cover</h3></li><li>greedy algorithm</li><li><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -1.033ex;" xmlns="http://www.w3.org/2000/svg" width="4.78ex" height="2.763ex" role="img" focusable="false" viewBox="0 -764.8 2113 1221.4"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="msub" transform="translate(687.8,451.6) scale(0.707)"><g data-mml-node="mi"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g><g data-mml-node="mi" transform="translate(749,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mrow" transform="translate(220,-345) scale(0.707)"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mi" transform="translate(646,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(940,0)"><path data-c="2229" d="M88 -21T75 -21T55 -7V200Q55 231 55 280Q56 414 60 428Q61 430 61 431Q77 500 152 549T332 598Q443 598 522 544T610 405Q611 399 611 194V-7Q604 -22 591 -22Q582 -22 572 -9L570 405Q563 433 556 449T529 485Q498 519 445 538T334 558Q251 558 179 518T96 401Q95 396 95 193V-7Q88 -21 75 -21Z"></path></g><g data-mml-node="mi" transform="translate(1607,0)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g></g><rect width="1873" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container> (this is dynamic)<br><a href="https://www.cnblogs.com/xlucidator/p/17294349.html">set cover</a></li><li>OPT = 1+x(x is slight bigger than 0)<ul><li>then cost = <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="3.028ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1338.3 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mi" transform="translate(864,-150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container> (<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="3.028ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1338.3 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mi" transform="translate(864,-150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container> is logn)</li></ul></li><li>in fact, cost = <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="3.028ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1338.3 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mi" transform="translate(864,-150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container> * OPT</li><li>so this is a <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="3.028ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1338.3 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mi" transform="translate(864,-150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container> approximation algorithm.<h2 id="11-External-Memory-1"><a href="#11-External-Memory-1" class="headerlink" title="11.External Memory 1"></a>11.External Memory 1</h2><h3 id="I-O-Model"><a href="#I-O-Model" class="headerlink" title="I/O Model"></a>I/O Model</h3><h3 id="Scanning"><a href="#Scanning" class="headerlink" title="Scanning"></a>Scanning</h3></li><li>Scanning. Given an array A of N values (stored in N/B blocks), process all values from left-to-right.</li><li>I/Os. O(N/B).<h3 id="Sorting"><a href="#Sorting" class="headerlink" title="Sorting"></a>Sorting</h3></li><li>Goal. Sorting in O(N/B logM/B (N/B)) I/Os.</li><li>Solution in 3 steps.<ul><li>Base case.<ul><li>Partition N elements into N/M arrays of size M.</li><li>Load each into memory and sort.</li><li>I/Os. O(N/B)</li></ul></li><li>External multi-way merge.<ul><li>Multiway merge algorithm.<ul><li>Input is N elements in M/B arrays.</li><li>Load M/B first blocks into memory and sort.</li><li>Output B smallest elements.</li><li>Load more blocks into memory if needed.</li><li>Repeat.</li></ul></li><li>I/Os. O(N/B).</li></ul></li><li>External merge sort.<ul><li>Partition N elements into N/M arrays of size M. Load each into memory and sort.</li><li>Apply M/B way external multiway merge until left with single sorted array.</li><li>I/Os.<ul><li>Sort N/M arrays: O(N/B) I/Os</li><li>Height of tree O(logM/B(N/M))</li><li>Cost per level: O(N/B) I/Os.</li></ul></li></ul></li><li>Total I/Os: O($\frac{N}{B}<em>log_{\frac{M}{B}}\frac{N}{M}<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="6.504ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2874.6 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(666.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1722.6,0)"><path data-c="1D442" d="M740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476Z"></path></g><g data-mml-node="mo" transform="translate(2485.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g></g></g></svg></mjx-container>\frac{N}{B}</em>log_{\frac{M}{B}}\frac{N}{B}$)</li></ul></li></ul><h3 id="Searching"><a href="#Searching" class="headerlink" title="Searching"></a>Searching</h3><ul><li>B-tree<ul><li>I/Os. O(<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="6.262ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 2767.7 899"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(298,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="msub" transform="translate(783,0)"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(510,-150) scale(0.707)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(1879.7,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g></g></g></svg></mjx-container>)</li></ul></li></ul><h2 id="12-External-Memory-2"><a href="#12-External-Memory-2" class="headerlink" title="12.External Memory 2"></a>12.External Memory 2</h2><h3 id="Access-Path-Traversal"><a href="#Access-Path-Traversal" class="headerlink" title="Access Path Traversal"></a>Access Path Traversal</h3><ul><li>I/O intuition.<ul><li>Flush moves Θ(B) message together in O(1) I/Os.</li><li>A message moves at most P times.</li><li>⇒ O(P/B + 1) = O(P/B) amortized I/Os.<h3 id="Bε-trees"><a href="#Bε-trees" class="headerlink" title="Bε-trees"></a>Bε-trees</h3></li></ul></li><li>B tree with buffer some updates at each node</li><li>ε ∈ (0, 1] is a parameter.<ul><li>Solution in 2 steps.</li><li>Focus on <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.206ex;" xmlns="http://www.w3.org/2000/svg" width="3.647ex" height="2.398ex" role="img" focusable="false" viewBox="0 -969 1612 1060"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msqrt"><g transform="translate(853,0)"><g data-mml-node="mi"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g></g><g data-mml-node="mo" transform="translate(0,109)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z"></path></g><rect width="759" height="60" x="853" y="849"></rect></g></g></g></svg></mjx-container>-tree ( = 1/2).</li><li>Searching in O(<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="4.253ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 1879.7 899"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(298,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="msub" transform="translate(783,0)"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(510,-150) scale(0.707)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g></g></g></g></svg></mjx-container> N) I/Os.</li><li>Updates in O((<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="4.253ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 1879.7 899"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(298,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path></g><g data-mml-node="msub" transform="translate(783,0)"><g data-mml-node="mi"><path data-c="1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path></g><g data-mml-node="mi" transform="translate(510,-150) scale(0.707)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g></g></g></g></svg></mjx-container> N)/<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.206ex;" xmlns="http://www.w3.org/2000/svg" width="3.647ex" height="2.398ex" role="img" focusable="false" viewBox="0 -969 1612 1060"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msqrt"><g transform="translate(853,0)"><g data-mml-node="mi"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path></g></g><g data-mml-node="mo" transform="translate(0,109)"><path data-c="221A" d="M95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178Z"></path></g><rect width="759" height="60" x="853" y="849"></rect></g></g></g></svg></mjx-container> ) amortized.</li><li>Generalize to any ε .</li></ul></li></ul><h3 id="Range-Tree"><a href="#Range-Tree" class="headerlink" title="Range Tree"></a>Range Tree</h3><p>2D range tree reporting \<br>using bridges(fractional cascading) \<br><a href="https://ocw.mit.edu/courses/6-851-advanced-data-structures-spring-2012/resources/mit6_851s12_l3/">Range Tree MIT 6.861</a></p><p><a href="https://www.youtube.com/watch?v=5a7EYVulN-w">video from youtube</a></p><h3 id="Lowest-Common-Ancestor-And-Level-Ancestor"><a href="#Lowest-Common-Ancestor-And-Level-Ancestor" class="headerlink" title="Lowest Common Ancestor And Level Ancestor"></a>Lowest Common Ancestor And Level Ancestor</h3><p>LCA =&gt; RMQ =&gt; <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.76ex" height="1.507ex" role="img" focusable="false" viewBox="0 -666 778 666"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="B1" d="M56 320T56 333T70 353H369V502Q369 651 371 655Q376 666 388 666Q402 666 405 654T409 596V500V353H707Q722 345 722 333Q722 320 707 313H409V40H707Q722 32 722 20T707 0H70Q56 7 56 20T70 40H369V313H70Q56 320 56 333Z"></path></g></g></g></svg></mjx-container>RMQ<br><a href="https://www.youtube.com/watch?v=0rCFkuQS968">Lowest Common Ancestor And Level Ancestor</a></p>]]></content>
      
      
      <categories>
          
          <category> algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Missing Semester Lecture7: Debugging and Profiling</title>
      <link href="/2024/07/11/missing-semester-lecture7/"/>
      <url>/2024/07/11/missing-semester-lecture7/</url>
      
        <content type="html"><![CDATA[<h4 id="Lecture-7-Debugging-and-Profiling"><a href="#Lecture-7-Debugging-and-Profiling" class="headerlink" title="Lecture 7: Debugging and Profiling"></a>Lecture 7: Debugging and Profiling</h4><p>link:<a href="https://missing.csail.mit.edu/2020/debugging-profiling/">https://missing.csail.mit.edu/2020/debugging-profiling/</a></p><h3 id="Printf-debugging-and-Logging"><a href="#Printf-debugging-and-Logging" class="headerlink" title="Printf debugging and Logging"></a>Printf debugging and Logging</h3><ul><li>A first approach to debug a program is to add print statements around where you have detected the problem, and keep iterating until you have extracted enough information to understand what is responsible for the issue.</li><li>A second approach is to use logging in your program, instead of ad hoc print statements. Logging is better than regular print statements for several reasons:<ul><li>You can log to files, sockets or even remote servers instead of standard output.</li><li>Logging supports severity levels (such as INFO, DEBUG, WARN, ERROR, &amp;c), that allow you to filter the output accordingly.</li><li>For new issues, there’s a fair chance that your logs will contain enough information to detect what is going wrong.</li></ul></li></ul><pre><code class="lang-bash">$ python logger.py# Raw output as with just prints$ python logger.py log# Log formatted output$ python logger.py log ERROR# Print only ERROR levels and above$ python logger.py color# Color formatted output</code></pre><blockquote><p>The most important way of making logs more readable is to color code them. By now you probably have realized that your terminal uses colors to make things more readable. But how does it do it? Programs like <code>ls</code> or <code>grep</code> are using <a href="https://en.wikipedia.org/wiki/ANSI_escape_code">ANSI escape codes</a>, which are special sequences of characters to indicate your shell to change the color of the output. For example, executing <code>echo -e "\e[38;2;255;0;0mThis is red\e[0m"</code> prints the message <code>This is red</code>in red on your terminal, as long as it supports <a href="https://github.com/termstandard/colors#truecolor-support-in-output-devices">true color</a>. If your terminal doesn’t support this (e.g. macOS’s Terminal.app), you can use the more universally supported escape codes for 16 color choices, for example <code>echo -e "\e[31;1mThis is red\e[0m"</code>.</p></blockquote><h3 id="Third-party-logs"><a href="#Third-party-logs" class="headerlink" title="Third party logs"></a>Third party logs</h3><blockquote><p>most programs write their own logs somewhere in your system. In UNIX systems, it is commonplace for programs to write their logs under <code>/var/log</code>. For instance, the <a href="https://www.nginx.com/">NGINX</a> webserver places its logs under <code>/var/log/nginx</code>. </p><p>More recently, systems have started using a <strong>system log</strong>, which is increasingly where all of your log messages go. Most (but not all) Linux systems use <code>systemd</code>, a system daemon that controls many things in your system such as which services are enabled and running. <code>systemd</code> places the logs under <code>/var/log/journal</code> in a specialized format and you can use the <a href="https://www.man7.org/linux/man-pages/man1/journalctl.1.html"><code>journalctl</code></a>command to display the messages. </p><p>Similarly, on macOS there is still <code>/var/log/system.log</code> but an increasing number of tools use the system log, that can be displayed with <a href="https://www.manpagez.com/man/1/log/"><code>log show</code></a>. </p><p>On most UNIX systems you can also use the <a href="https://www.man7.org/linux/man-pages/man1/dmesg.1.html"><code>dmesg</code></a> command to access the kernel log.</p><p>For logging under the system logs you can use the <a href="https://www.man7.org/linux/man-pages/man1/logger.1.html"><code>logger</code></a> shell program. Here’s an example of using <code>logger</code> and how to check that the entry made it to the system logs. Moreover, most programming languages have bindings logging to the system log.</p></blockquote><pre><code class="lang-bash">logger "Hello Logs"# On macOSlog show --last 1m | grep Hello# On Linuxjournalctl --since "1m ago" | grep Hello</code></pre><h3 id="Debugger"><a href="#Debugger" class="headerlink" title="Debugger"></a>Debugger</h3><p>When printf debugging is not enough you should use a debugger. Debuggers are programs that let you interact with the execution of a program, allowing the following:</p><ul><li>Halt execution of the program when it reaches a certain line.</li><li>Step through the program one instruction at a time.</li><li>Inspect values of variables after the program crashed.</li><li>Conditionally halt the execution when a given condition is met.</li><li>And many more advanced features</li></ul><p>Many programming languages come with some form of debugger. In Python this is the Python Debugger <a href="https://docs.python.org/3/library/pdb.html"><code>pdb</code></a>.</p><p>Here is a brief description of some of the commands <code>pdb</code> supports:</p><ul><li><strong>l</strong>(ist) - Displays 11 lines around the current line or continue the previous listing.</li><li><strong>s</strong>(tep) - Execute the current line, stop at the first possible occasion.</li><li><strong>n</strong>(ext) - Continue execution until the next line in the current function is reached or it returns.</li><li><strong>b</strong>(reak) - Set a breakpoint (depending on the argument provided).</li><li><strong>p</strong>(rint) - Evaluate the expression in the current context and print its value. There’s also <strong>pp</strong> to display using <a href="https://docs.python.org/3/library/pprint.html"><code>pprint</code></a> instead.</li><li><strong>r</strong>(eturn) - Continue execution until the current function returns.</li><li><strong>q</strong>(uit) - Quit the debugger</li></ul><p>Note that since Python is an interpreted language we can use the <code>pdb</code> shell to execute commands and to execute instructions. <a href="https://pypi.org/project/ipdb/"><code>ipdb</code></a> is an improved <code>pdb</code> that uses the <a href="https://ipython.org/"><code>IPython</code></a> REPL enabling tab completion, syntax highlighting, better tracebacks, and better introspection while retaining the same interface as the <code>pdb</code> module.</p><p>For more low level programming you will probably want to look into <a href="https://www.gnu.org/software/gdb/"><code>gdb</code></a> (and its quality of life modification <a href="https://github.com/pwndbg/pwndbg"><code>pwndbg</code></a>) and <a href="https://lldb.llvm.org/"><code>lldb</code></a>. They are optimized for C-like language debugging but will let you probe pretty much any process and get its current machine state: registers, stack, program counter, &amp;c.</p><h3 id="Specialized-Tools"><a href="#Specialized-Tools" class="headerlink" title="Specialized Tools"></a>Specialized Tools</h3><p>Even if what you are trying to debug is a black box binary there are tools that can help you with that. Whenever programs need to perform actions that only the kernel can, they use <a href="https://en.wikipedia.org/wiki/System_call">System Calls</a>. There are commands that let you trace the syscalls your program makes. In Linux there’s <a href="https://www.man7.org/linux/man-pages/man1/strace.1.html"><code>strace</code></a> and macOS and BSD have <a href="http://dtrace.org/blogs/about/"><code>dtrace</code></a>. <code>dtrace</code> can be tricky to use because it uses its own <code>D</code> language, but there is a wrapper called <a href="https://www.manpagez.com/man/1/dtruss/"><code>dtruss</code></a> that provides an interface more similar to <code>strace</code> (more details <a href="https://8thlight.com/blog/colin-jones/2015/11/06/dtrace-even-better-than-strace-for-osx.html">here</a>).</p><p>Below are some examples of using <code>strace</code> or <code>dtruss</code> to show <a href="https://www.man7.org/linux/man-pages/man2/stat.2.html"><code>stat</code></a> syscall traces for an execution of <code>ls</code>. For a deeper dive into <code>strace</code>, <a href="https://blogs.oracle.com/linux/strace-the-sysadmins-microscope-v2">this article</a> and <a href="https://jvns.ca/strace-zine-unfolded.pdf">this zine</a> are good reads.</p><pre><code class="lang-bash"># On Linuxsudo strace -e lstat ls -l &gt; /dev/null# On macOSsudo dtruss -t lstat64_extended ls -l &gt; /dev/null</code></pre><p>Under some circumstances, you may need to look at the network packets to figure out the issue in your program. Tools like <a href="https://www.man7.org/linux/man-pages/man1/tcpdump.1.html"><code>tcpdump</code></a> and <a href="https://www.wireshark.org/">Wireshark</a> are network packet analyzers that let you read the contents of network packets and filter them based on different criteria.</p><p>For web development, the Chrome/Firefox developer tools are quite handy. They feature a large number of tools, including:</p><ul><li>Source code - Inspect the HTML/CSS/JS source code of any website.</li><li>Live HTML, CSS, JS modification - Change the website content, styles and behavior to test (you can see for yourself that website screenshots are not valid proofs).</li><li>Javascript shell - Execute commands in the JS REPL.</li><li>Network - Analyze the requests timeline.</li><li>Storage - Look into the Cookies and local application storage.</li></ul><blockquote><p>For some issues you do not need to run any code. For example, just by carefully looking at a piece of code you could realize that your loop variable is shadowing an already existing variable or function name; or that a program reads a variable before defining it. Here is where <a href="https://en.wikipedia.org/wiki/Static_program_analysis">static analysis</a> tools come into play. Static analysis programs take source code as input and analyze it using coding rules to reason about its correctness.</p><p>In the following Python snippet there are several mistakes. First, our loop variable <code>foo</code> shadows the previous definition of the function <code>foo</code>. We also wrote <code>baz</code> instead of <code>bar</code> in the last line, so the program will crash after completing the <code>sleep</code> call (which will take one minute).</p></blockquote><pre><code class="lang-bash">import timedef foo():    return 42for foo in range(5):    print(foo)bar = 1bar *= 0.2time.sleep(60)print(baz)</code></pre><p>Static analysis tools can identify these kinds of issues. When we run <a href="https://pypi.org/project/pyflakes"><code>pyflakes</code></a>on the code we get the errors related to both bugs. <a href="http://mypy-lang.org/"><code>mypy</code></a> is another tool that can detect type checking issues. Here, <code>mypy</code> will warn us that <code>bar</code> is initially an <code>int</code> and is then casted to a <code>float</code>. Again, note that all these issues were detected without having to run the code.</p><pre><code class="lang-bash">$ pyflakes foobar.pyfoobar.py:6: redefinition of unused 'foo' from line 3foobar.py:11: undefined name 'baz'$ mypy foobar.pyfoobar.py:6: error: Incompatible types in assignment (expression has type "int", variable has type "Callable[[], Any]")foobar.py:9: error: Incompatible types in assignment (expression has type "float", variable has type "int")foobar.py:11: error: Name 'baz' is not definedFound 3 errors in 1 file (checked 1 source file)</code></pre><p>In the shell tools lecture we covered <a href="https://www.shellcheck.net/"><code>shellcheck</code></a>, which is a similar tool for shell scripts.</p><p>Most editors and IDEs support displaying the output of these tools within the editor itself, highlighting the locations of warnings and errors. This is often called <strong>code linting</strong> and it can also be used to display other types of issues such as stylistic violations or insecure constructs.</p><p>In vim, the plugins <a href="https://vimawesome.com/plugin/ale"><code>ale</code></a> or <a href="https://vimawesome.com/plugin/syntastic"><code>syntastic</code></a> will let you do that. For Python, <a href="https://github.com/PyCQA/pylint"><code>pylint</code></a>and <a href="https://pypi.org/project/pep8/"><code>pep8</code></a> are examples of stylistic linters and <a href="https://pypi.org/project/bandit/"><code>bandit</code></a> is a tool designed to find common security issues. For other languages people have compiled comprehensive lists of useful static analysis tools, such as <a href="https://github.com/mre/awesome-static-analysis">Awesome Static Analysis</a> (you may want to take a look at the <em>Writing</em> section) and for linters there is <a href="https://github.com/caramelomartins/awesome-linters">Awesome Linters</a>.</p><p>A complementary tool to stylistic linting are code formatters such as <a href="https://github.com/psf/black"><code>black</code></a> for Python, <code>gofmt</code> for Go, <code>rustfmt</code> for Rust or <a href="https://prettier.io/"><code>prettier</code></a> for JavaScript, HTML and CSS. These tools autoformat your code so that it’s consistent with common stylistic patterns for the given programming language. Although you might be unwilling to give stylistic control about your code, standardizing code format will help other people read your code and will make you better at reading other people’s (stylistically standardized) code.</p><h3 id="Profiling"><a href="#Profiling" class="headerlink" title="Profiling"></a>Profiling</h3><h4 id="Time"><a href="#Time" class="headerlink" title="Time"></a>Time</h4><p>Similarly to the debugging case, in many scenarios it can be enough to just print the time it took your code between two points. Here is an example in Python using the <a href="https://docs.python.org/3/library/time.html"><code>time</code></a> module.</p><pre><code class="lang-bash">import time, randomn = random.randint(1, 10) * 100# Get current timestart = time.time()# Do some workprint("Sleeping for {} ms".format(n))time.sleep(n/1000)# Compute time between start and nowprint(time.time() - start)# Output# Sleeping for 500 ms# 0.5713930130004883</code></pre><p>However, wall clock time can be misleading since your computer might be running other processes at the same time or waiting for events to happen. It is common for tools to make a distinction between <em>Real</em>, <em>User</em> and <em>Sys</em> time. In general, <em>User</em> + <em>Sys</em> tells you how much time your process actually spent in the CPU (more detailed explanation <a href="https://stackoverflow.com/questions/556405/what-do-real-user-and-sys-mean-in-the-output-of-time1">here</a>).</p><ul><li><em>Real</em> - Wall clock elapsed time from start to finish of the program, including the time taken by other processes and time taken while blocked (e.g. waiting for I/O or network)</li><li><em>User</em> - Amount of time spent in the CPU running user code</li><li><em>Sys</em> - Amount of time spent in the CPU running kernel code</li></ul><p>For example, try running a command that performs an HTTP request and prefixing it with <a href="https://www.man7.org/linux/man-pages/man1/time.1.html"><code>time</code></a>. Under a slow connection you might get an output like the one below. Here it took over 2 seconds for the request to complete but the process only took 15ms of CPU user time and 12ms of kernel CPU time.</p><pre><code class="lang-bash">$ time curl https://missing.csail.mit.edu &amp;&gt; /dev/nullreal    0m2.561suser    0m0.015ssys     0m0.012s</code></pre><h4 id="Profiler"><a href="#Profiler" class="headerlink" title="Profiler"></a>Profiler</h4><h4 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a>CPU</h4><p>Most of the time when people refer to <em>profilers</em> they actually mean <em>CPU profilers</em>, which are the most common. There are two main types of CPU profilers: <em>tracing</em>and <em>sampling</em> profilers. Tracing profilers keep a record of every function call your program makes whereas sampling profilers probe your program periodically (commonly every millisecond) and record the program’s stack. They use these records to present aggregate statistics of what your program spent the most time doing. <a href="https://jvns.ca/blog/2017/12/17/how-do-ruby---python-profilers-work-">Here</a> is a good intro article if you want more detail on this topic.</p><p>Most programming languages have some sort of command line profiler that you can use to analyze your code. They often integrate with full fledged IDEs but for this lecture we are going to focus on the command line tools themselves.</p><p>In Python we can use the <code>cProfile</code> module to profile time per function call. Here is a simple example that implements a rudimentary grep in Python:</p><pre><code class="lang-bash">#!/usr/bin/env pythonimport sys, redef grep(pattern, file):    with open(file, 'r') as f:        print(file)        for i, line in enumerate(f.readlines()):            pattern = re.compile(pattern)            match = pattern.search(line)            if match is not None:                print("{}: {}".format(i, line), end="")if __name__ == '__main__':    times = int(sys.argv[1])    pattern = sys.argv[2]    for i in range(times):        for file in sys.argv[3:]:            grep(pattern, file)</code></pre><p>We can profile this code using the following command. Analyzing the output we can see that IO is taking most of the time and that compiling the regex takes a fair amount of time as well. Since the regex only needs to be compiled once, we can factor it out of the for.</p><pre><code class="lang-bash">$ python -m cProfile -s tottime grep.py 1000 '^(import|\s*def)[^,]*$' *.py[omitted program output] ncalls  tottime  percall  cumtime  percall filename:lineno(function)     8000    0.266    0.000    0.292    0.000 {built-in method io.open}     8000    0.153    0.000    0.894    0.000 grep.py:5(grep)    17000    0.101    0.000    0.101    0.000 {built-in method builtins.print}     8000    0.100    0.000    0.129    0.000 {method 'readlines' of '_io._IOBase' objects}    93000    0.097    0.000    0.111    0.000 re.py:286(_compile)    93000    0.069    0.000    0.069    0.000 {method 'search' of '_sre.SRE_Pattern' objects}    93000    0.030    0.000    0.141    0.000 re.py:231(compile)    17000    0.019    0.000    0.029    0.000 codecs.py:318(decode)        1    0.017    0.017    0.911    0.911 grep.py:3(&lt;module&gt;)[omitted lines]</code></pre><p>A caveat of Python’s <code>cProfile</code> profiler (and many profilers for that matter) is that they display time per function call. That can become unintuitive really fast, especially if you are using third party libraries in your code since internal function calls are also accounted for. A more intuitive way of displaying profiling information is to include the time taken per line of code, which is what <em>line profilers</em> do.</p><p>For instance, the following piece of Python code performs a request to the class website and parses the response to get all URLs in the page:</p><pre><code class="lang-bash">#!/usr/bin/env pythonimport requestsfrom bs4 import BeautifulSoup# This is a decorator that tells line_profiler# that we want to analyze this function@profiledef get_urls():    response = requests.get('https://missing.csail.mit.edu')    s = BeautifulSoup(response.content, 'lxml')    urls = []    for url in s.find_all('a'):        urls.append(url['href'])if __name__ == '__main__':    get_urls()</code></pre><p>If we used Python’s <code>cProfile</code> profiler we’d get over 2500 lines of output, and even with sorting it’d be hard to understand where the time is being spent. A quick run with <a href="https://github.com/pyutils/line_profiler"><code>line_profiler</code></a> shows the time taken per line:</p><pre><code class="lang-bash">$ kernprof -l -v a.pyWrote profile results to urls.py.lprofTimer unit: 1e-06 sTotal time: 0.636188 sFile: a.pyFunction: get_urls at line 5Line #  Hits         Time  Per Hit   % Time  Line Contents============================================================== 5                                           @profile 6                                           def get_urls(): 7         1     613909.0 613909.0     96.5      response = requests.get('https://missing.csail.mit.edu') 8         1      21559.0  21559.0      3.4      s = BeautifulSoup(response.content, 'lxml') 9         1          2.0      2.0      0.0      urls = []10        25        685.0     27.4      0.1      for url in s.find_all('a'):11        24         33.0      1.4      0.0          urls.append(url['href'])</code></pre><h4 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h4><p>In languages like C or C++ memory leaks can cause your program to never release memory that it doesn’t need anymore. To help in the process of memory debugging you can use tools like <a href="https://valgrind.org/">Valgrind</a> that will help you identify memory leaks.</p><p>In garbage collected languages like Python it is still useful to use a memory profiler because as long as you have pointers to objects in memory they won’t be garbage collected. Here’s an example program and its associated output when running it with <a href="https://pypi.org/project/memory-profiler/">memory-profiler</a> (note the decorator like in <code>line-profiler</code>).</p><pre><code class="lang-bash">@profiledef my_func():    a = [1] * (10 ** 6)    b = [2] * (2 * 10 ** 7)    del b    return aif __name__ == '__main__':    my_func()$ python -m memory_profiler example.pyLine #    Mem usage  Increment   Line Contents==============================================     3                           @profile     4      5.97 MB    0.00 MB   def my_func():     5     13.61 MB    7.64 MB       a = [1] * (10 ** 6)     6    166.20 MB  152.59 MB       b = [2] * (2 * 10 ** 7)     7     13.61 MB -152.59 MB       del b     8     13.61 MB    0.00 MB       return a</code></pre><h3 id="Visualization"><a href="#Visualization" class="headerlink" title="Visualization"></a>Visualization</h3><p>Profiler output for real world programs will contain large amounts of information because of the inherent complexity of software projects. Humans are visual creatures and are quite terrible at reading large amounts of numbers and making sense of them. Thus there are many tools for displaying profiler’s output in an easier to parse way.</p><p>One common way to display CPU profiling information for sampling profilers is to use a <a href="http://www.brendangregg.com/flamegraphs.html">Flame Graph</a>, which will display a hierarchy of function calls across the Y axis and time taken proportional to the X axis. They are also interactive, letting you zoom into specific parts of the program and get their stack traces (try clicking in the image below).</p><p><img src="http://www.brendangregg.com/FlameGraphs/cpu-bash-flamegraph.svg" alt=""></p><p>Call graphs or control flow graphs display the relationships between subroutines within a program by including functions as nodes and functions calls between them as directed edges. When coupled with profiling information such as the number of calls and time taken, call graphs can be quite useful for interpreting the flow of a program. In Python you can use the <a href="https://pycallgraph.readthedocs.io/"><code>pycallgraph</code></a>library to generate them.</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/A_Call_Graph_generated_by_pycallgraph.png" alt=""></p><h4 id="Resource-Monitoring"><a href="#Resource-Monitoring" class="headerlink" title="Resource Monitoring"></a>Resource Monitoring</h4><p>Sometimes, the first step towards analyzing the performance of your program is to understand what its actual resource consumption is. Programs often run slowly when they are resource constrained, e.g. without enough memory or on a slow network connection. There are a myriad of command line tools for probing and displaying different system resources like CPU usage, memory usage, network, disk usage and so on.</p><ul><li><strong>General Monitoring</strong> - Probably the most popular is <a href="https://htop.dev/"><code>htop</code></a>, which is an improved version of <a href="https://www.man7.org/linux/man-pages/man1/top.1.html"><code>top</code></a>. <code>htop</code> presents various statistics for the currently running processes on the system. <code>htop</code> has a myriad of options and keybinds, some useful ones are: <code>&lt;F6&gt;</code> to sort processes, <code>t</code> to show tree hierarchy and <code>h</code> to toggle threads. See also <a href="https://nicolargo.github.io/glances/"><code>glances</code></a> for similar implementation with a great UI. For getting aggregate measures across all processes, <a href="http://dag.wiee.rs/home-made/dstat/"><code>dstat</code></a> is another nifty tool that computes real-time resource metrics for lots of different subsystems like I/O, networking, CPU utilization, context switches, &amp;c.</li><li><strong>I/O operations</strong> - <a href="https://www.man7.org/linux/man-pages/man8/iotop.8.html"><code>iotop</code></a> displays live I/O usage information and is handy to check if a process is doing heavy I/O disk operations</li><li><strong>Disk Usage</strong> - <a href="https://www.man7.org/linux/man-pages/man1/df.1.html"><code>df</code></a> displays metrics per partitions and <a href="http://man7.org/linux/man-pages/man1/du.1.html"><code>du</code></a> displays <strong>d</strong>isk <strong>u</strong>sage per file for the current directory. In these tools the <code>-h</code> flag tells the program to print with <strong>h</strong>uman readable format. A more interactive version of <code>du</code> is <a href="https://dev.yorhel.nl/ncdu"><code>ncdu</code></a> which lets you navigate folders and delete files and folders as you navigate.</li><li><strong>Memory Usage</strong> - <a href="https://www.man7.org/linux/man-pages/man1/free.1.html"><code>free</code></a> displays the total amount of free and used memory in the system. Memory is also displayed in tools like <code>htop</code>.</li><li><strong>Open Files</strong> - <a href="https://www.man7.org/linux/man-pages/man8/lsof.8.html"><code>lsof</code></a> lists file information about files opened by processes. It can be quite useful for checking which process has opened a specific file.</li><li><strong>Network Connections and Config</strong> - <a href="https://www.man7.org/linux/man-pages/man8/ss.8.html"><code>ss</code></a> lets you monitor incoming and outgoing network packets statistics as well as interface statistics. A common use case of <code>ss</code> is figuring out what process is using a given port in a machine. For displaying routing, network devices and interfaces you can use <a href="http://man7.org/linux/man-pages/man8/ip.8.html"><code>ip</code></a>. Note that <code>netstat</code> and <code>ifconfig</code> have been deprecated in favor of the former tools respectively.</li><li><strong>Network Usage</strong> - <a href="https://github.com/raboof/nethogs"><code>nethogs</code></a> and <a href="http://www.ex-parrot.com/pdw/iftop/"><code>iftop</code></a> are good interactive CLI tools for monitoring network usage.</li></ul><p>If you want to test these tools you can also artificially impose loads on the machine using the <a href="https://linux.die.net/man/1/stress"><code>stress</code></a> command.</p><h4 id="Specialized-tools"><a href="#Specialized-tools" class="headerlink" title="Specialized tools"></a>Specialized tools</h4><p>Sometimes, black box benchmarking is all you need to determine what software to use. Tools like <a href="https://github.com/sharkdp/hyperfine"><code>hyperfine</code></a> let you quickly benchmark command line programs. For instance, in the shell tools and scripting lecture we recommended <code>fd</code> over <code>find</code>. We can use <code>hyperfine</code> to compare them in tasks we run often. E.g. in the example below <code>fd</code> was 20x faster than <code>find</code> in my machine.</p><pre><code class="lang-bash">$ hyperfine --warmup 3 'fd -e jpg' 'find . -iname "*.jpg"'Benchmark #1: fd -e jpg  Time (mean ± σ):      51.4 ms ±   2.9 ms    [User: 121.0 ms, System: 160.5 ms]  Range (min … max):    44.2 ms …  60.1 ms    56 runsBenchmark #2: find . -iname "*.jpg"  Time (mean ± σ):      1.126 s ±  0.101 s    [User: 141.1 ms, System: 956.1 ms]  Range (min … max):    0.975 s …  1.287 s    10 runsSummary  'fd -e jpg' ran   21.89 ± 2.33 times faster than 'find . -iname "*.jpg"'</code></pre><p>As it was the case for debugging, browsers also come with a fantastic set of tools for profiling webpage loading, letting you figure out where time is being spent (loading, rendering, scripting, &amp;c). More info for <a href="https://profiler.firefox.com/docs/">Firefox</a> and <a href="https://developers.google.com/web/tools/chrome-devtools/rendering-tools">Chrome</a>.</p><p><strong>Shellcheck</strong></p><p><strong>PDB</strong></p><p><a href="https://wil.yegelwel.com/pdb-pm/">https://wil.yegelwel.com/pdb-pm/</a></p><p><a href="https://github.com/spiside/pdb-tutorial">https://github.com/spiside/pdb-tutorial</a></p><blockquote><p><code>l(ist)</code> <code>ll(long list)</code>ll shows  you source code for the current function or frame. It’s much better knowing which function you are in than an arbitrary 11 lines around your current position.</p><pre><code class="lang-bash">(Pdb) l  4     def main():  5         print("Add the values of the dice")  6         print("It's really that easy")  7         print("What are you doing with your life.")  8         import pdb; pdb.set_trace()  9  -&gt;     GameRunner.run() 10      11      12     if __name__ == "__main__": 13         main()[EOF]</code></pre><p>If we want to see the whole file, we can call the list function with the range 1 to 13 like so:</p><pre><code class="lang-bash">(Pdb) l 1, 13  1     from dicegame.runner import GameRunner  2       3       4     def main():  5         print("Add the values of the dice")  6         print("It's really that easy")  7         print("What are you doing with your life.")  8         import pdb; pdb.set_trace()  9  -&gt;     GameRunner.run() 10      11      12     if __name__ == "__main__": 13         main()</code></pre><p><code>s(tep)</code>  Execute the current line, stop at the first possible occasion(either in a function that is called or in the current function).</p><pre><code class="lang-bash">(Pdb) s--Call--&gt; /Users/Development/pdb-tutorial/dicegame/runner.py(21)run()-&gt; @classmethod</code></pre><pre><code class="lang-bash">(Pdb) l 16             total = 0 17             for die in self.dice: 18                 total += 1 19             return total 20      21  -&gt;     @classmethod 22         def run(cls): 23             # Probably counts wins or something. 24             # Great variable name, 10/10. 25             c = 0 26             while True:</code></pre><p><code>n(ext)</code>  Continue execution until the next line in the current function is reached or it returns.</p><pre><code class="lang-bash">(Pdb) n&gt; /Users/Development/pdb-tutorial/dicegame/runner.py(27)run()-&gt; while True:(Pdb) l 21         @classmethod 22         def run(cls): 23             # Probably counts wins or something. 24             # Great variable name, 10/10. 25             c = 0 26  -&gt;         while True: 27                 runner = cls() 28      29                 print("Round {}\n".format(runner.round)) 30      31                 for die in runner.dice:</code></pre><p><code>b(reak)</code> </p><ul><li>Without argument, list all breaks.</li><li><p>With a line number argument, set a break at this line in the current file. With a function name, set a break at the first executable line of that function. If a second argument is present, it is a string specifying an expression which must evaluate to true before the breakpoint is honored.</p></li><li><p>The line number may be prefixed with a filename and a colon, to specify a breakpoint in another file (probably one that hasn’t been loaded yet).  The file is searched for on sys.path; the .py suffix may be omitted.</p></li></ul><pre><code class="lang-bash">(Pdb) b 34Breakpoint 1 at /Users/Development/pdb-tutorial/dicegame/runner.py(34)run()(Pdb) c[...] # prints some dice&gt; /Users/Development/pdb-tutorial/dicegame/runner.py(34)run()-&gt; guess = input("Sigh. What is your guess?: ")</code></pre><pre><code class="lang-bash">(Pdb) bNum Type         Disp Enb   Where1   breakpoint   keep yes   at /Users/Development/pdb-tutorial/dicegame/runner.py:34    breakpoint already hit 1 time</code></pre><p><code>cl(ear)</code> To clear your break points, you can use the <code>cl(ear)</code> command followed by the breakpoint number which is found in the leftmost column of the above output. You can also clear all the breakpoints if you don’t provide any arguments to the <code>clear</code> command.</p><pre><code class="lang-bash">(Pdb) cl 1Deleted breakpoint 1 at /Users/Development/pdb-tutorial/dicegame/runner.py:34</code></pre><p><code>r(eturn)</code>  Continue execution until the current function returns.</p><pre><code class="lang-bash">(Pdb) r--Return--&gt; /Users/Development/pdb-tutorial/dicegame/runner.py(19)answer()-&gt;5-&gt; return total(Pdb) l 14      15         def answer(self): 16             total = 0 17             for die in self.dice: 18                 total += 1 19  -&gt;         return total 20      21         @classmethod 22         def run(cls): 23             # Probably counts wins or something. 24             # Great variable name, 10/10.(Pdb)</code></pre><p><code>continue</code> The <code>continue</code> command instructs the debugger to resume execution of the program until the next breakpoint is encountered, an exception is raised, or the program terminates.</p><p><code>!c</code> If there is a variable called. c, but this c maybe be misunderstood with c(ontinue). So we use <code>!c</code> to get the value of variable c</p><pre><code class="lang-bash"> (Pdb) !c 0</code></pre><p><code>commands</code></p><pre><code class="lang-bash">commands [bpnumber]        (com) ...        (com) end        (Pdb)Specify a list of commands for breakpoint number bpnumber.</code></pre><p><code>commands</code> will run python code or pdb commands that you specified whenever the stated breakpoint number is hit. Once you start the <code>commands</code> block, the prompt changes to <code>(com)</code>. The code/commands you write here function as if you had typed them at the <code>(Pdb)</code> prompt after getting to that breakpoint. Writing <code>end</code> will terminate the command and the prompt changes back to <code>(Pdb)</code> from <code>(com)</code>. I have found this of great use when I need to monitor certain variables inside of a loop as I don’t need to print the values of the variables repeatedly. Let’s see an example. Make sure to be at the root of the project in your terminal and type the following:</p><pre><code class="lang-bash">python -m pdb main.py</code></pre><p>Reach line <code>:8</code> and <code>s(tep)</code> into the <code>run()</code> method of the GameRunner class. Then, set up a breakpoint at <code>:17</code>.</p><pre><code class="lang-bash">&gt; /Users/Development/pdb-tutorial/main.py(8)main()-&gt; GameRunner.run()  #This is line 8 in main.py(Pdb) s      --Call--&gt; /Users/Development/pdb-tutorial/dicegame/runner.py(21)run()-&gt; @classmethod (Pdb) b 17Breakpoint 4 at /Users/Development/pdb-tutorial/dicegame/runner.py:17</code></pre><p>This sets up the breakpoint, which has been given the number <code>4</code>, at the start of the loop inside the <code>answer()</code>method which is used to calculate the total values of the dice. Now, let’s us use <code>commands</code> to print the value of the variable <code>total</code> when we hit this breakpoint.</p><pre><code class="lang-bash">(Pdb) commands 4(com) print(f"The total value as of now is {total}")(com) end</code></pre><p>We have now set up <code>commands</code> for breakpoint number 4 which will execute when we reach this breakpoint. Let us <code>c(ontinue)</code> and reach this breakpoint.</p><pre><code class="lang-bash">(Pdb) c[...] # You will have to guess a numberThe total value as of now is 0&gt; /Users/Development/pdb-tutorial/dicegame/runner.py(17)answer()-&gt; for die in self.dice:(Pdb)</code></pre><p>We see that out print statement executed upon reaching this breakpoint. Let’s <code>c(ontinue)</code> again and see what happens.</p><pre><code class="lang-bash">(Pdb) c[...] The total value as of now is 1&gt; /Users/Development/pdb-tutorial/dicegame/runner.py(17)answer()-&gt; for die in self.dice:(Pdb)</code></pre><p>The <code>commands</code> command executes upon reaching the breakpoint again. You can see how this might be useful especially during loops.</p><h3 id="pdb-pm-Post-Mortem"><a href="#pdb-pm-Post-Mortem" class="headerlink" title="pdb.pm() Post Mortem"></a><code>pdb.pm()</code> Post Mortem</h3><pre><code>pdb.post_mortem(traceback=None)    Enter post-mortem debugging of the given traceback object. If no traceback is given, it uses the one of the exception that is currently being handled    (an exception must be being handled if the default is to be used).pdb.pm()    Enter post-mortem debugging of the traceback found in sys.last_traceback.</code></pre><p>While both methods may look the same, <code>post_mortem() and pm()</code> differ by the traceback they are given. I commonly use <code>post_mortem()</code> in the <code>except</code> block. However, we will cover the <code>pm()</code> method since I find it to be a bit more powerful. Let’s try and see how this works in practice.</p><p>Open up the python REPL by typing <code>python</code> in your shell in the root of this project. From there, let’s import the <code>main</code> method from the <code>main</code> module and import <code>pdb</code> as well. Play the game until the we get the exception after trying to type <code>Y</code> to continue the game.</p><pre><code>&gt;&gt;&gt; import pdb&gt;&gt;&gt; from main import main&gt;&gt;&gt; main()[...]Would you like to play again?[Y/n]: YTraceback (most recent call last):  File "main.py", line 12, in &lt;module&gt;    main()  File "main.py", line 8, in main    GameRunner.run()  File "/Users/Development/pdb-tutorial/dicegame/runner.py", line 62, in run    i_just_throw_an_exception()  File "/Users/Development/pdb-tutorial/dicegame/utils.py", line 13, in i_just_throw_an_exception    raise UnnecessaryError("You actually called this function...")dicegame.utils.UnnecessaryError: You actually called this function...</code></pre><p>Now, let’s call the <code>pm()</code> method from the <code>pdb</code> module and see what happens.</p><pre><code>&gt;&gt;&gt; pdb.pm()&gt; /Users/Development/pdb-tutorial/dicegame/utils.py(13)i_just_throw_an_exception()-&gt; raise UnnecessaryError("You actually called this function...")(Pdb)</code></pre><p>Look at that! We recover from the point where the last exception was thrown and are placed in the <code>pdb</code> prompt. From here, we can examine the state the program was in before it crashed which will help you in your investigation.</p><p><strong>NB</strong>: You can also start the <code>main.py</code> script using <code>python -m pdb main.py</code> and <code>continue</code> until an exception is thrown. Python will automatically enter <code>post_mortem</code> mode at the uncaught exception.</p><p>links:<a href="https://wil.yegelwel.com/pdb-pm/">https://wil.yegelwel.com/pdb-pm/</a></p><h4 id="Python-Debugging-How-to-use-pdb-pm"><a href="#Python-Debugging-How-to-use-pdb-pm" class="headerlink" title="Python Debugging: How to use pdb.pm()"></a>Python Debugging: How to use pdb.pm()</h4><p>Python’s debugger, <a href="https://docs.python.org/3/library/pdb.html">pdb</a>, is a great tool and one of my favorite uses of pdb is <code>pdb.pm()</code>. This post shows how to use <code>pdb.pm()</code> by working through an example of a buggy implementation of mergesort.</p><p><code>pdb.pm()</code> launches <code>pdb</code> to debug the most recently raised exception. When you find yourself saying “Shit! That exception occurred four layers deep in code I wasn’t editting and setting up the state to reproduce this is going to take 20 minutes” or “I wish I could just debug right from where the exception was raised”, <code>pdb.pm()</code> is what you want.</p><p>As a working example, consider the following implementation of mergesort. It isn’t great: the code has a logic bug, duplicates memory and suffers from array expansion, we will only focus on the logic bug.</p><pre><code class="lang-Python">def mergesort(xs):     if len(xs) == 1:         return xs     else:         left = mergesort(xs[:len(xs)//2])         right = mergesort(xs[len(xs)//2:])         ys = []         left_i, right_i = 0, 0         while left_i &lt; len(left) or right_i &lt; len(right):             if left[left_i] &lt;= right[right_i]:                 ys.append(left[left_i])                 left_i += 1             else:                 ys.append(right[right_i])                 right_i += 1         return ys</code></pre><p>The bug is in the while loop. If <code>left_i</code> is less than <code>len(left)</code> it will drop into the loop body, even if <code>right_i</code> is greater than or equal to <code>len(right)</code>. In that case, it will try to index out of the array bounds. Gasp!</p><p>If you try to use this code, you will get the error we expect.</p><pre><code class="lang-Python">In [2]: mergesort([6,5,4,3,2,1])                                                                                                                                                                                  ---------------------------------------------------------------------------IndexError                                Traceback (most recent call last)&lt;ipython-input-30-15081790cedb&gt; in &lt;module&gt;----&gt; 1 mergesort([6,5,4,3,2,1])&lt;ipython-input-28-cb4e97206eb8&gt; in mergesort(xs)      3         return xs      4     else:----&gt; 5         left = mergesort(xs[:len(xs)//2])      6         right = mergesort(xs[len(xs)//2:])      7         ys = []&lt;ipython-input-28-cb4e97206eb8&gt; in mergesort(xs)      4     else:      5         left = mergesort(xs[:len(xs)//2])----&gt; 6         right = mergesort(xs[len(xs)//2:])      7         ys = []      8         left_i, right_i = 0, 0&lt;ipython-input-28-cb4e97206eb8&gt; in mergesort(xs)      8         left_i, right_i = 0, 0      9         while left_i &lt; len(left) or right_i &lt; len(right):---&gt; 10             if left[left_i] &lt;= right[right_i]:     11                 ys.append(left[left_i])     12                 left_i += 1IndexError: list index out of range</code></pre><p>While we already know what the bug is, we can use <code>pdb.pm()</code> to poke at the state to see what is going on. We can query for the state of variables to see what triggered the problem.</p><pre><code class="lang-Python">In [33]: import pdb; pdb.pm()                                                                                                                                                                                      &gt; &lt;ipython-input-28-cb4e97206eb8&gt;(10)mergesort()-&gt; if left[left_i] &lt;= right[right_i]:(Pdb) left_i, right_i(0, 1)(Pdb) left[5](Pdb) right[4]</code></pre><p>Ok, now we can see what happened. Both <code>left</code> and <code>right</code> had a single element but the code tried to index the non-existent second element in <code>right</code>.</p><p>If we needed to, we could step up the traceback to understand the state using the command <code>u</code> (for up). Then we can poke at the state higher in the stack as we did before.</p><pre><code class="lang-Python">(Pdb) u&gt; &lt;ipython-input-28-cb4e97206eb8&gt;(6)mergesort()-&gt; right = mergesort(xs[len(xs)//2:])(Pdb) left[6](Pdb) xs[6, 5, 4](Pdb) xs[len(xs)//2:][5, 4]</code></pre><p>Debugging exceptions becomes a lot easier once you become comfortable with <code>pdb.pm()</code>.</p></blockquote><p><strong>pycallgraph</strong></p><p><strong>graphviz</strong></p><pre><code class="lang-bash">pycallgraph graphviz script.py</code></pre>]]></content>
      
      
      <categories>
          
          <category> missing semester </category>
          
      </categories>
      
      
        <tags>
            
            <tag> debug </tag>
            
            <tag> profiling </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Missing Semester Lecture6: Version Control(git)</title>
      <link href="/2024/04/26/missing-semester-lecture6/"/>
      <url>/2024/04/26/missing-semester-lecture6/</url>
      
        <content type="html"><![CDATA[<h3 id="Lecture-6-Version-Control-git"><a href="#Lecture-6-Version-Control-git" class="headerlink" title="Lecture 6:  Version Control(git)"></a>Lecture 6:  Version Control(git)</h3><p>link:<a href="https://missing.csail.mit.edu/2020/version-control/">https://missing.csail.mit.edu/2020/version-control/</a></p><pre><code class="lang-bash">31:42    git add . git commit -m &lt;msg&gt;git loggit cat-file -p &lt;8d-commit-hash/ branch-hash/ file-hash&gt;32:47    git commit -agit add :/35:23    git log --all --graph --decorate36:12    git status (have staged or commited or not)41:41    git-checkout -f &lt;8d-commit-hash / 8d-branch-hash&gt;  (switch branch)43:11    git diff hello.txt (show the changes in the file compared to the last commit)43:28    git diff &lt;8d-commit-hash&gt; hello.txt (compared to the branch)44:33    git diff HEAD hello.txt46:22    git diff &lt;8d-commit-hash) HEAD hello.txt (change from to)50:06    git branch (print all the branches)git branch -vv (extra verbose)50:17    git branch cat (create new branch that points to the HEAD you are currently looking)git checkout cat53:56    git branch -b dog52:53    git log --all --graph --decorate --oneline (more compact view)56:27    git merge cat (can do cat dog) 58:51    git merge --abort1:00:41    git add . git merge --continue &gt; git commit -m &lt;msg&gt; / git commit59:37    &lt;&lt;&lt;&lt;&lt; HEAD points to last snapshot in master branch, &gt;&gt;&gt;&gt; dog points to the branch you're trying to merge.1:04:17    git init --bare (initiatialize empty git repo in current dir) 1:04:20    git remote add &lt;remote name&gt; &lt;remote repository URL&gt;git push &lt;remote name&gt; &lt;local branch&gt;: &lt;remote branch&gt;1:07:54    git clone &lt;url&gt; &lt;folder name&gt;1:10:33    git branch --set-upstream-to=origin/master1:18:12    git blame .config.yml (who edit the file on which commit message by who, when) git show &lt;commit hash&gt; (to get line changes like git diff)1:19:22    git stash (changes saved somewhere) git stash pop (get saved back)1:20:46    git bisect 1:21:48    git ignore (put file name or *.extension)</code></pre><h2 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h2><ul><li><p><code>git help &lt;command&gt;</code>: get help for a git command</p></li><li><p><code>git init</code>: creates a new git repo, with data stored in the <code>.git</code> directory</p></li><li><p><code>git status</code>: tells you what’s going on</p></li><li><p><code>git add &lt;filename&gt;</code>: adds files to staging area</p></li><li><pre><code class="lang-plaintext">git commit</code></pre><p>: creates a new commit</p><ul><li>Write <a href="https://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html">good commit messages</a>!</li><li>Even more reasons to write <a href="https://chris.beams.io/posts/git-commit/">good commit messages</a>!</li></ul></li><li><p><code>git log</code>: shows a flattened log of history</p></li><li><p><code>git log --all --graph --decorate</code>: visualizes history as a DAG</p></li><li><p><code>git diff &lt;filename&gt;</code>: show changes you made relative to the staging area</p></li><li><p><code>git diff &lt;revision&gt; &lt;filename&gt;</code>: shows differences in a file between snapshots</p></li><li><p><code>git checkout &lt;revision&gt;</code>: updates HEAD and current branch</p></li></ul><h2 id="Branching-and-merging"><a href="#Branching-and-merging" class="headerlink" title="Branching and merging"></a>Branching and merging</h2><ul><li><p><code>git branch</code>: shows branches</p></li><li><p><code>git branch &lt;name&gt;</code>: creates a branch</p></li><li><pre><code class="lang-plaintext">git checkout -b &lt;name&gt;</code></pre><p>: creates a branch and switches to it</p><ul><li>same as <code>git branch &lt;name&gt;; git checkout &lt;name&gt;</code></li></ul></li><li><p><code>git merge &lt;revision&gt;</code>: merges into current branch</p></li><li><p><code>git mergetool</code>: use a fancy tool to help resolve merge conflicts</p></li><li><p><code>git rebase</code>: rebase set of patches onto a new base</p></li></ul><h2 id="Remotes"><a href="#Remotes" class="headerlink" title="Remotes"></a>Remotes</h2><ul><li><code>git remote</code>: list remotes</li><li><code>git remote add &lt;name&gt; &lt;url&gt;</code>: add a remote</li><li><code>git push &lt;remote&gt; &lt;local branch&gt;:&lt;remote branch&gt;</code>: send objects to remote, and update remote reference</li><li><code>git branch --set-upstream-to=&lt;remote&gt;/&lt;remote branch&gt;</code>: set up correspondence between local and remote branch</li><li><code>git fetch</code>: retrieve objects/references from a remote</li><li><code>git pull</code>: same as <code>git fetch; git merge</code></li><li><code>git clone</code>: download repository from remote</li></ul><h2 id="Undo"><a href="#Undo" class="headerlink" title="Undo"></a>Undo</h2><ul><li><code>git commit --amend</code>: edit a commit’s contents/message</li><li><code>git reset HEAD &lt;file&gt;</code>: unstage a file</li><li><code>git checkout -- &lt;file&gt;</code>: discard changes</li></ul><h1 id="Advanced-Git"><a href="#Advanced-Git" class="headerlink" title="Advanced Git"></a>Advanced Git</h1><ul><li><code>git config</code>: Git is <a href="https://git-scm.com/docs/git-config">highly customizable</a></li><li><code>git clone --depth=1</code>: shallow clone, without entire version history</li><li><code>git add -p</code>: interactive staging</li><li><code>git rebase -i</code>: interactive rebasing</li><li><code>git blame</code>: show who last edited which line</li><li><code>git stash</code>: temporarily remove modifications to working directory</li><li><code>git bisect</code>: binary search history (e.g. for regressions)</li><li><code>.gitignore</code>: <a href="https://git-scm.com/docs/gitignore">specify</a> intentionally untracked files to ignore</li></ul>]]></content>
      
      
      <categories>
          
          <category> missing semester </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Missing Semester Lecture5: Command-line Environment</title>
      <link href="/2024/04/22/missing-semester-lecture5/"/>
      <url>/2024/04/22/missing-semester-lecture5/</url>
      
        <content type="html"><![CDATA[<h3 id="Lecture-5-Command-line-Environment"><a href="#Lecture-5-Command-line-Environment" class="headerlink" title="Lecture 5: Command-line Environment"></a>Lecture 5: Command-line Environment</h3><p>link: <a href="https://missing.csail.mit.edu/2020/command-line/">https://missing.csail.mit.edu/2020/command-line/</a></p><pre><code class="lang-bash">sleep 20</code></pre><blockquote><p>sleep for 20 seconds</p></blockquote><p><code>&lt;C-C&gt;</code> : interrupt the commond</p><blockquote><p>it sends SIGINT</p></blockquote><pre><code class="lang-bash">man signal</code></pre><blockquote><p>read some signals</p></blockquote><p><code>&lt;C-\&gt;</code>: SIGQUIT</p><pre><code class="lang-bash">kill -TERM &lt;PID&gt;</code></pre><p>While <code>SIGINT</code> and <code>SIGQUIT</code> are both usually associated with terminal related requests, a more generic signal for asking a process to exit gracefully is the <code>SIGTERM</code> signal. To send this signal we can use the <a href="https://www.man7.org/linux/man-pages/man1/kill.1.html"><code>kill</code></a> command, with the syntax <code>kill -TERM &lt;PID&gt;</code>.</p><p><code>&lt;C-Z&gt;</code>:SIGTSTP, short for Terminal Stop</p><p><code>bg</code></p><p><code>fg</code></p><p><code>jobs</code></p><p><code>kill</code></p><p><code>nohup</code>: To background an already running program you can do <code>Ctrl-Z</code> followed by <code>bg</code>. Note that backgrounded processes are still children processes of your terminal and will die if you close the terminal (this will send yet another signal, <code>SIGHUP</code>). To prevent that from happening you can run the program with <a href="https://www.man7.org/linux/man-pages/man1/nohup.1.html"><code>nohup</code></a> (a wrapper to ignore <code>SIGHUP</code>), or use <code>disown</code> if the process has already been started. Alternatively, you can use a terminal multiplexer as we will see in the next section.</p><pre><code class="lang-bash">$ sleep 1000^Z[1]  + 18653 suspended  sleep 1000$ nohup sleep 2000 &amp;[2] 18745appending output to nohup.out$ jobs[1]  + suspended  sleep 1000[2]  - running    nohup sleep 2000$ bg %1[1]  - 18653 continued  sleep 1000$ jobs[1]  - running    sleep 1000[2]  + running    nohup sleep 2000$ kill -STOP %1[1]  + 18653 suspended (signal)  sleep 1000$ jobs[1]  + suspended (signal)  sleep 1000[2]  - running    nohup sleep 2000$ kill -SIGHUP %1[1]  + 18653 hangup     sleep 1000$ jobs[2]  + running    nohup sleep 2000$ kill -SIGHUP %2$ jobs[2]  + running    nohup sleep 2000$ kill %2[2]  + 18745 terminated  nohup sleep 2000$ jobs</code></pre><h3 id="tmux-Terminal-Multiplexers"><a href="#tmux-Terminal-Multiplexers" class="headerlink" title="tmux(Terminal Multiplexers)"></a>tmux(Terminal Multiplexers)</h3><ul><li>Sessions<ul><li>Windows(Tabs)<ul><li>Panes</li></ul></li></ul></li></ul><h3 id="split-panes-using-and"><a href="#split-panes-using-and" class="headerlink" title="split panes using | and -"></a>split panes using | and -</h3><p>bind | split-window -h<br>bind - split-window -v<br>unbind ‘“‘<br>unbind %</p><h3 id="switch-panes-using-Alt-hjkl-without-prefix"><a href="#switch-panes-using-Alt-hjkl-without-prefix" class="headerlink" title="switch panes using Alt-hjkl without prefix"></a>switch panes using Alt-hjkl without prefix</h3><p>bind -n M-h select-pane -L<br>bind -n M-l select-pane -R<br>bind -n M-k select-pane -U<br>bind -n M-j select-pane -D</p><h3 id="default-tmux-setting"><a href="#default-tmux-setting" class="headerlink" title="default tmux setting"></a>default tmux setting</h3><p>C-a C-o     Rotate through the panes                           [38/38]<br>C-a C-z     Suspend the current client<br>C-a Space   Select next layout<br>C-a !       Break pane to a new window<br>C-a #       List all paste buffers<br>C-a $       Rename current session<br>C-a &amp;       Kill current window<br>C-a ‘       Prompt for window index to select<br>C-a (       Switch to previous client<br>C-a )       Switch to next client<br>C-a ,       Rename current window<br>C-a .       Move the current window<br>C-a /       Describe key binding<br>C-a 0       Select window 0<br>C-a 1       Select window 1<br>C-a 2       Select window 2<br>C-a 3       Select window 3<br>C-a 4       Select window 4<br>C-a 5       Select window 5<br>C-a 6       Select window 6<br>C-a 7       Select window 7<br>C-a 8       Select window 8<br>C-a 9       Select window 9<br>C-a :       Prompt for a command<br>C-a ;       Move to the previously active pane<br>C-a =       Choose a paste buffer from a list<br>C-a ?       List key bindings<br>C-a C       Customize options<br>C-a D       Choose a client from a list<br>C-a E       Spread panes out evenly<br>C-a L       Switch to the last client<br>C-a M       Clear the marked pane<br>C-a [       Enter copy mode<br>C-a ]       Paste the most recent paste buffer<br>C-a c       Create a new window<br>C-a d       Detach the current client<br>C-a f       Search for a pane<br>C-a i       Display window information<br>C-a l       Select the previously current window<br>C-a m       Toggle the marked pane</p>]]></content>
      
      
      <categories>
          
          <category> missing semester </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tmux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Missing Semester Lecture4: Data Wrangling</title>
      <link href="/2024/04/21/missing-semester-lecture4/"/>
      <url>/2024/04/21/missing-semester-lecture4/</url>
      
        <content type="html"><![CDATA[<h3 id="Lecture-4-Data-Wrangling"><a href="#Lecture-4-Data-Wrangling" class="headerlink" title="Lecture 4: Data Wrangling"></a>Lecture 4: Data Wrangling</h3><p>link:<a href="https://missing.csail.mit.edu/2020/data-wrangling/">https://missing.csail.mit.edu/2020/data-wrangling/</a></p><p>sed is short for stream editor</p><pre><code class="lang-bash">| sed -E 's/.*Disconnected from (invalid |authenticating )?user (.*) [^ ]+ port [0-9]+( \[preauth\])?$/\2/'</code></pre><pre><code class="lang-bash">ssh myserver journalctl | grep sshd | grep "Disconnected from" | sed -E 's/.*Disconnected from (invalid |authenticating )?user (.*) [^ ]+ port [0-9]+( \[preauth\])?$/\2/' | sort | uniq -c | sort -nk1,1 | tail -n10 | awk '{print $2}' | paste -sd,</code></pre><pre><code class="lang-bash">| awk '$1 == 1 &amp;&amp; $2 ~ /^c[^ ]*e$/ { print $2 }' | wc -l</code></pre><pre><code class="lang-bash">BEGIN { rows = 0 }$1 == 1 &amp;&amp; $2 ~ /^c[^ ]*e$/ { rows += $1 }END { print rows }</code></pre><pre><code class="lang-bash"> | paste -sd+ | bc -l</code></pre>]]></content>
      
      
      <categories>
          
          <category> missing semester </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Missing Semester Lecture3: Editor(vim)</title>
      <link href="/2024/04/19/missing-semester-lecture3/"/>
      <url>/2024/04/19/missing-semester-lecture3/</url>
      
        <content type="html"><![CDATA[<h3 id="Lecture-3-Editors-vim"><a href="#Lecture-3-Editors-vim" class="headerlink" title="Lecture 3: Editors(vim)"></a>Lecture 3: Editors(vim)</h3><p>link: <a href="https://missing.csail.mit.edu/2020/editors/">https://missing.csail.mit.edu/2020/editors/</a></p><p>normal-&gt;insert: i</p><p>insert-&gt;normal: <esc></esc></p><p>normal-&gt;replace: R</p><p>nomral-&gt;visual: v</p><p>normal-&gt;visual-line: <s-v></s-v></p><p>noraml-&gt;visual-block: <c-v></c-v></p><p>normal-&gt;command-line: <strong>:</strong></p><pre><code class="lang-bash">:help :w</code></pre><blockquote><p>show the usage of ‘:w’</p></blockquote><p>shift + 6(^) : move the cursor to the beginning of the line where is not empty.</p><p>L: move the cursor to the lowest of the screen</p><p>M: middle</p><p>H: highest</p><p>fo: jump the next first o</p><p>Fo: jump to the previous o</p><p>to: jump to before the next first o</p><p>To: jump to after the previous first o</p><p>in nomral mode: c = d + i (c is short for change)</p><p>cc = dd + i</p><p><c-r>: redo</c-r></p><p>undo is undo all the insert change or last change in normal mode</p><p>v: block</p><p>V: rectangle</p><p>ci[ : delete the contents that are inside the brackets and go to the insert mode.</p><p>ca[: delete the contents that are around the brackets and go to the insert mode</p><p>%: jump to the other parentheses</p><p>a: a is short for append</p><p>A: append at the end of this line</p><p>~: change the uppercase and lowercase</p><p>U: return the line to its original state.</p><p><c-g>: show your location in the file and the file status.</c-g></p><p>number + G: return to the line with the number</p><p>To search for the same phrase again, simply type  n .<br>To search for the same phrase in the opposite direction, type  N .<br>To search for a phrase in the backward direction, use  ?  instead of  / .<br>To go back to where you came from press  CTRL-O  (Keep Ctrl down while pressing the letter o).  Repeat to go back further.  CTRL-I goes forward.</p><p>s: x+i</p><p>:s/thee/the: Note that this command only changes the first occurrence of “thee” in the line.</p><p>:s/thee/the/g .  Adding the  g  flag means to substitute globally in the line, change all occurrences of “thee” in the line.</p><p>To substitute new for the first old in a line type    :s/old/new<br>To substitute new for all ‘old’s on a line type       :s/old/new/g<br>To substitute phrases between two line #’s type       :#,#s/old/new/g<br>To substitute all occurrences in the file type        :%s/old/new/g<br> To ask for confirmation each time add ‘c’             :%s/old/new/gc</p><p>Type  :!  followed by an external command to execute that command.</p><p>Now type:   :w TEST   (where TEST is the filename you chose.) This saves the whole file (the Vim Tutor) under the name TEST.</p><p>:!command  executes an external command.<br>Some useful examples are:<br>:!ls            -  shows a directory listing.<br>:!rm FILENAME   -  removes file FILENAME.<br>:w FILENAME  writes the current Vim file to disk with name FILENAME.<br>v  motion  :w FILENAME  saves the Visually selected lines in file FILENAME.<br>:r FILENAME  retrieves disk file FILENAME and puts it below the cursor position.<br>:r !dir  reads the output of the dir command and puts it below the cursor position.</p>]]></content>
      
      
      <categories>
          
          <category> missing semester </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Missing Semester Lecture2: Shell Tools and Scripting</title>
      <link href="/2024/04/15/missing-semester-lecture2/"/>
      <url>/2024/04/15/missing-semester-lecture2/</url>
      
        <content type="html"><![CDATA[<h3 id="Lecture-2-Shell-Tools-and-Scripting"><a href="#Lecture-2-Shell-Tools-and-Scripting" class="headerlink" title="Lecture 2: Shell Tools and Scripting"></a>Lecture 2: Shell Tools and Scripting</h3><p>link:<a href="https://missing.csail.mit.edu/2020/shell-tools/">https://missing.csail.mit.edu/2020/shell-tools/</a></p><pre><code class="lang-bash">echo "Hello"&gt; Helloecho "World"&gt; Worldfoo=bar(good)foo = bar(not work)echo "Value is $foo"&gt; Value is barecho 'Value is $foo'&gt; Value is $foo</code></pre><ul><li><code>$0</code> - Name of the script</li><li><code>$1</code> to <code>$9</code> - Arguments to the script. <code>$1</code> is the first argument and so on.</li><li><code>$@</code> - All the arguments</li><li><code>$#</code> - Number of arguments</li><li><code>$?</code> - Return code of the previous command</li><li>$$$$ - Process identification number (PID) for the current script</li><li><code>!!</code> - Entire last command, including arguments. A common pattern is to execute a command only for it to fail due to missing permissions; you can quickly re-execute the command with sudo by doing <code>sudo !!</code></li><li><code>$_</code> - Last argument from the last command. If you are in an interactive shell, you can also quickly get this value by typing <code>Esc</code> followed by <code>.</code> or <code>Alt+.</code></li><li><code>$!</code> contains the process ID of the most recently executed background pipeline</li></ul><pre><code class="lang-bash">echo "We are in $(pwd)"cat &lt;(ls) &lt;(ls ..)ls *.sh&gt; show all files which are end with shls project?&gt; ? means a single charactertouch foo{1,2,3}&gt; and press tab&gt; it will be foo1, foo2, foo3touch {foo,bar}/{a..j}diff &lt;(foo) &lt;(bar)</code></pre><p><code>tldr</code> is a good tool to read guide of commands </p><pre><code class="lang-bash">findfdrgfzftreebrootnnn</code></pre><pre><code class="lang-bash">find . -maxdepth 1 -type f -name "*.html" -print0 | xargs -0 zip html_files.zipfind . -type f -exec stat -f "%m %N" {} + | sort -nr | awk '{print $2}'</code></pre><p><code>bash shortcuts</code>:<a href="https://skorks.com/2009/09/bash-shortcuts-for-maximum-productivity/">https://skorks.com/2009/09/bash-shortcuts-for-maximum-productivity/</a></p><h3 id="Command-Editing-Shortcuts"><a href="#Command-Editing-Shortcuts" class="headerlink" title="Command Editing Shortcuts"></a>Command Editing Shortcuts</h3><ul><li><strong>Ctrl + a</strong> – go to the start of the command line</li><li><strong>Ctrl + e</strong> – go to the end of the command line</li><li><strong>Ctrl + k</strong> – delete from cursor to the end of the command line</li><li><strong>Ctrl + u</strong> – delete from cursor to the start of the command line</li><li><strong>Ctrl + w</strong> – delete from cursor to start of word (i.e. delete backwards one word)</li><li><strong>Ctrl + y</strong> – paste word or text that was cut using one of the deletion shortcuts (such as the one above) after the cursor</li><li><strong>Ctrl + xx</strong> – move between start of command line and current cursor position (and back again)</li><li><strong>Alt + b</strong> – move backward one word (or go to start of word the cursor is currently on)</li><li><strong>Alt + f</strong> – move forward one word (or go to end of word the cursor is currently on)</li><li><strong>Alt + d</strong> – delete to end of word starting at cursor (whole word if cursor is at the beginning of word)</li><li><strong>Alt + c</strong> – capitalize to end of word starting at cursor (whole word if cursor is at the beginning of word)</li><li><strong>Alt + u</strong> – make uppercase from cursor to end of word</li><li><strong>Alt + l</strong> – make lowercase from cursor to end of word</li><li><strong>Alt + t</strong> – swap current word with previous</li><li><strong>Ctrl + f</strong> – move forward one character</li><li><strong>Ctrl + b</strong> – move backward one character</li><li><strong>Ctrl + d</strong> – delete character under the cursor</li><li><strong>Ctrl + h</strong> – delete character before the cursor</li><li><strong>Ctrl + t</strong> – swap character under cursor with the previous one</li></ul><h3 id="Command-Recall-Shortcuts"><a href="#Command-Recall-Shortcuts" class="headerlink" title="Command Recall Shortcuts"></a>Command Recall Shortcuts</h3><ul><li><strong>Ctrl + r</strong> – search the history backwards</li><li><strong>Ctrl + g</strong> – escape from history searching mode</li><li><strong>Ctrl + p</strong> – previous command in history (i.e. walk back through the command history)</li><li><strong>Ctrl + n</strong> – next command in history (i.e. walk forward through the command history)</li><li><strong>Alt + .</strong> – use the last word of the previous command</li></ul><h3 id="Command-Control-Shortcuts"><a href="#Command-Control-Shortcuts" class="headerlink" title="Command Control Shortcuts"></a>Command Control Shortcuts</h3><ul><li><strong>Ctrl + l</strong> – clear the screen</li><li><strong>Ctrl + s</strong> – stops the output to the screen (for long running verbose command)</li><li><strong>Ctrl + q</strong> – allow output to the screen (if previously stopped using command above)</li><li><strong>Ctrl + c</strong> – terminate the command</li><li><strong>Ctrl + z</strong> – suspend/stop the command</li></ul><h3 id="Bash-Bang-Commands"><a href="#Bash-Bang-Commands" class="headerlink" title="Bash Bang (!) Commands"></a>Bash Bang (!) Commands</h3><p><em>Bash</em> also has some handy features that use the ! (bang) to allow you to do some funky stuff with <em>bash</em> commands.</p><ul><li><strong>!!</strong> – run last command</li><li><strong>!blah</strong> – run the most recent command that starts with ‘blah’ (e.g. !ls)</li><li><strong>!blah:p</strong> – print out the command that <strong>!blah</strong> would run (also adds it as the latest command in the command history)</li><li><strong>!$</strong> – the last word of the previous command (same as <strong>Alt + .</strong>)</li><li><strong>!$:p</strong> – print out the word that <strong>!$</strong> would substitute</li><li><strong>!*</strong> – the previous command except for the last word (e.g. if you type ‘_find some<em>file.txt /</em>’, then <strong>!*</strong> would give you ‘_find some<em>file.txt</em>’)</li><li><strong>!*:p</strong> – print out what <strong>!*</strong> would substitute</li><li><strong>$!</strong> contains the process ID of the most recently executed background pipeline</li></ul>]]></content>
      
      
      <categories>
          
          <category> missing semester </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Missing Semester Lecture1: Course Overview + The Shell</title>
      <link href="/2024/04/15/missing-semester-lecture1/"/>
      <url>/2024/04/15/missing-semester-lecture1/</url>
      
        <content type="html"><![CDATA[<h3 id="Lecture-1-Course-Overview-The-Shell"><a href="#Lecture-1-Course-Overview-The-Shell" class="headerlink" title="Lecture 1: Course Overview + The Shell"></a>Lecture 1: Course Overview + The Shell</h3><p><a href="https://missing.csail.mit.edu/2020/course-shell/">https://missing.csail.mit.edu/2020/course-shell/</a></p><pre><code class="lang-bash">mv a.md b.md</code></pre><blockquote><p>rename the file</p></blockquote><pre><code class="lang-bash">mv a.md ../b.md</code></pre><blockquote><p>move the file</p></blockquote><pre><code class="lang-bash">rm dir1</code></pre><blockquote><p>delete all items recursive</p></blockquote><pre><code class="lang-bash">rmdir dir1</code></pre><blockquote><p>delete dir only empty</p></blockquote><pre><code class="lang-bash">ls ..</code></pre><blockquote><p>list all files of the father dir</p></blockquote><p>shortcut: <code>Control + L</code></p><blockquote><p>same as command clear</p></blockquote><pre><code class="lang-bash">cat &lt; hello.txt &gt; hello2.txt</code></pre><blockquote><p>replace hello2.txt with the content of hello.txt</p></blockquote><pre><code class="lang-bash">cat &lt; hello.txt &gt;&gt; hello2.txt</code></pre><blockquote><p>append the content of hello.txt to hello2.txt as an appendix</p></blockquote><ul><li><strong>Pipe</strong></li></ul><pre><code class="lang-bash">ls - l | tail -n1</code></pre><blockquote><p>get last info of (ls -l)</p></blockquote><pre><code class="lang-bash">curl --head --silent google.com | grep -i content-length</code></pre><blockquote><p>output is ‘Content-Length:219’</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> missing semester </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2024/04/15/hello-world/"/>
      <url>/2024/04/15/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre><code class="lang-bash">$ hexo new "My New Post"</code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre><code class="lang-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre><code class="lang-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre><code class="lang-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
